<div id="help-modal-overlay" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.72);z-index:20010;justify-content:center;align-items:center;padding:20px;">
<div style="background:#fff;border-radius:18px;width:100%;max-width:820px;max-height:90vh;display:flex;flex-direction:column;box-shadow:0 24px 80px rgba(0,0,0,0.5);overflow:hidden;">

  <!-- EN-TÃŠTE -->
  <div style="background:linear-gradient(135deg,#2B7FFF 0%,#8E51FF 100%);color:white;padding:22px 28px;display:flex;justify-content:space-between;align-items:flex-start;gap:16px;flex-shrink:0;">
    <div>
      <div style="font-size:1.4em;font-weight:800;">ğŸ“‹ Aide complÃ¨te â€” Le Bureau du Prof</div>
      <div style="font-size:0.85em;opacity:0.85;margin-top:4px;">Cliquez sur une section dans le menu Ã  gauche pour naviguer.</div>
    </div>
    <button onclick="closeHelpModal()" style="background:rgba(255,255,255,0.2);border:none;border-radius:50%;width:36px;height:36px;color:white;font-size:20px;cursor:pointer;flex-shrink:0;">Ã—</button>
  </div>

  <!-- CORPS -->
  <div style="display:flex;flex:1;overflow:hidden;">

    <!-- SIDEBAR -->
    <nav id="help-sidebar" style="width:200px;flex-shrink:0;background:#f4f6f9;border-right:1px solid #e5e8ee;overflow-y:auto;padding:14px 0;">
      <div class="help-nav" data-s="h-intro"      onclick="helpShow(this)" style="border-left-color:#2B7FFF;background:#e8edf5;color:#2B7FFF;font-weight:700;">ğŸ  Introduction</div>
      <div class="help-nav" data-s="h-widgets"    onclick="helpShow(this)">ğŸ“¦ Widgets</div>
      <div class="help-nav" data-s="h-selection"  onclick="helpShow(this)">ğŸ–±ï¸ SÃ©lection</div>
      <div class="help-nav" data-s="h-deplacement"onclick="helpShow(this)">âœ¥ DÃ©placement</div>
      <div class="help-nav" data-s="h-rotation"   onclick="helpShow(this)">â†» Rotation</div>
      <div class="help-nav" data-s="h-groupes"    onclick="helpShow(this)">â›“ï¸ Groupes</div>
      <div style="height:1px;background:#e0e4ea;margin:8px 18px;"></div>
      <div class="help-nav" data-s="h-texte"      onclick="helpShow(this)">ğŸ–Šï¸ Texte &amp; Format</div>
      <div class="help-nav" data-s="h-formes"     onclick="helpShow(this)">ğŸ”² Formes</div>
      <div class="help-nav" data-s="h-dessin"     onclick="helpShow(this)">âœï¸ Dessin libre</div>
      <div class="help-nav" data-s="h-gomme"      onclick="helpShow(this)">ğŸ§½ Gomme</div>
      <div style="height:1px;background:#e0e4ea;margin:8px 18px;"></div>
      <div class="help-nav" data-s="h-fond"       onclick="helpShow(this)">ğŸ–¼ï¸ Fond d'Ã©cran</div>
      <div class="help-nav" data-s="h-sauvegarde" onclick="helpShow(this)">ğŸ’¾ Sauvegarde</div>
      <div class="help-nav" data-s="h-undoredo"   onclick="helpShow(this)">â†© Annuler / Refaire</div>
      <div class="help-nav" data-s="h-avance"     onclick="helpShow(this)">âš™ï¸ Options avancÃ©es</div>
      <div style="height:1px;background:#e0e4ea;margin:8px 18px;"></div>
      <div class="help-nav" data-s="h-scenes"     onclick="helpShow(this)">ğŸ—‚ï¸ ScÃ¨nes</div>
      <div class="help-nav" data-s="h-laser"      onclick="helpShow(this)">ğŸ”´ Pointeur laser</div>
    </nav>

    <!-- CONTENU -->
    <div style="flex:1;overflow-y:auto;padding:28px 32px;font-family:'Segoe UI',system-ui,sans-serif;">

      <!-- INTRODUCTION -->
      <div id="h-intro" class="help-section">
        <div style="font-size:1.15em;font-weight:800;color:#1a1a2e;margin-bottom:14px;padding-bottom:8px;border-bottom:2px solid #e5e8ee;">ğŸ  Bienvenue sur Le Bureau du Prof</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">Le Bureau du Prof est un <strong>tableau de bord interactif</strong> conÃ§u pour les enseignants. Il permet d'afficher simultanÃ©ment des widgets (heure, date, devoirs, agenda, vidÃ©osâ€¦), de dessiner librement, d'ajouter des formes gÃ©omÃ©triques et de tout sauvegarder.</p>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">Le tableau respecte un <strong>format 16:9</strong> et s'adapte automatiquement Ã  la taille de votre Ã©cran ou vidÃ©oprojecteur.</p>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">ğŸ—ºï¸ Organisation de l'interface</div>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:16px;">
          <div style="background:#f8f9fb;border:1px solid #e5e8ee;border-radius:10px;padding:14px 16px;"><div style="font-size:13px;font-weight:700;color:#222;margin-bottom:6px;">â¬‡ï¸ Barre du bas</div><p style="font-size:12.5px;color:#444;margin:0;">AccÃ¨s aux boutons <strong>WIDGETS</strong>, scÃ¨nes ğŸ—‚ï¸, dessin âœï¸, formes ğŸ”², gomme ğŸ§½, sauvegarde ğŸ’¾/ğŸ“‚, effacement âŒ et aide â“.</p></div>
          <div style="background:#f8f9fb;border:1px solid #e5e8ee;border-radius:10px;padding:14px 16px;"><div style="font-size:13px;font-weight:700;color:#222;margin-bottom:6px;">ğŸ“¦ Menu WIDGETS</div><p style="font-size:12.5px;color:#444;margin:0;">S'ouvre au clic sur <strong>WIDGETS</strong>. Liste tous les types de widgets Ã  crÃ©er + choix du fond.</p></div>
          <div style="background:#f8f9fb;border:1px solid #e5e8ee;border-radius:10px;padding:14px 16px;"><div style="font-size:13px;font-weight:700;color:#222;margin-bottom:6px;">ğŸ–Šï¸ Barre de texte</div><p style="font-size:12.5px;color:#444;margin:0;">ApparaÃ®t automatiquement en cliquant dans un widget Texte ou Devoirs. Police, taille, couleur, gras, italiqueâ€¦</p></div>
          <div style="background:#f8f9fb;border:1px solid #e5e8ee;border-radius:10px;padding:14px 16px;"><div style="font-size:13px;font-weight:700;color:#222;margin-bottom:6px;">ğŸ’¾ Sauvegarde auto</div><p style="font-size:12.5px;color:#444;margin:0;">Tout est sauvegardÃ© dans le navigateur aprÃ¨s chaque modification. Utilisez ğŸ’¾ pour exporter en .json.</p></div>
        </div>
        <div style="background:#eef7ff;border-left:4px solid #2B7FFF;border-radius:0 8px 8px 0;padding:10px 14px;font-size:12.5px;color:#1a4d8f;margin:10px 0;">ğŸ’¡ <strong>DÃ©marrage :</strong> Cliquez sur <strong>WIDGETS</strong>, choisissez un type, puis glissez le widget en cliquant sur la poignÃ©e <strong>âœ¥</strong> qui apparaÃ®t sur sa gauche.</div>
      </div>

      <!-- WIDGETS -->
      <div id="h-widgets" class="help-section" style="display:none;">
        <div style="font-size:1.15em;font-weight:800;color:#1a1a2e;margin-bottom:14px;padding-bottom:8px;border-bottom:2px solid #e5e8ee;">ğŸ“¦ Les widgets disponibles</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">Chaque widget est une fenÃªtre flottante redimensionnable et dÃ©plaÃ§able. Cliquez sur <strong>WIDGETS</strong> puis sur le type souhaitÃ© pour l'ajouter au bureau.</p>
        <table style="width:100%;border-collapse:collapse;margin:10px 0 16px 0;font-size:13px;">
          <tr><th style="background:#f0f3f9;text-align:left;padding:8px 12px;font-weight:700;color:#333;border-bottom:2px solid #dde2ea;">Widget</th><th style="background:#f0f3f9;text-align:left;padding:8px 12px;font-weight:700;color:#333;border-bottom:2px solid #dde2ea;">Description</th><th style="background:#f0f3f9;text-align:left;padding:8px 12px;font-weight:700;color:#333;border-bottom:2px solid #dde2ea;">ParticularitÃ©</th></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;"><span style="background:#2B7FFF;color:white;border-radius:5px;padding:2px 8px;font-size:11.5px;font-weight:700;">ğŸ–Šï¸ Texte</span></td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Zone de saisie libre avec mise en forme riche.</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Barre de formatage globale automatique</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;"><span style="background:#3BB8DB;color:white;border-radius:5px;padding:2px 8px;font-size:11.5px;font-weight:700;">ğŸ“ Devoirs</span></td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Widget prÃ©-rempli pour noter les devoirs par classe.</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Contenu de dÃ©part modifiable</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;"><span style="background:#679638;color:white;border-radius:5px;padding:2px 8px;font-size:11.5px;font-weight:700;">ğŸ“… Date</span></td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Affiche le jour, numÃ©ro et mois en temps rÃ©el.</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Police auto-adaptative Ã  la taille du widget</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;"><span style="background:#7CCF35;color:white;border-radius:5px;padding:2px 8px;font-size:11.5px;font-weight:700;">ğŸ•’ Heure</span></td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Horloge numÃ©rique temps rÃ©el (h:min sec).</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Taille de police auto + fond transparent</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;"><span style="background:#8E51FF;color:white;border-radius:5px;padding:2px 8px;font-size:11.5px;font-weight:700;">ğŸ“Œ Planning</span></td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Agenda journalier avec lignes horaires.</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Glisser-dÃ©poser des lignes, ajout/suppression</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;"><span style="background:#E7180B;color:white;border-radius:5px;padding:2px 8px;font-size:11.5px;font-weight:700;">ğŸ¬ YouTube</span></td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Lecteur YouTube intÃ©grÃ©.</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Mode audio seul, plein Ã©cran</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;"><span style="background:#FFD230;color:#222;border-radius:5px;padding:2px 8px;font-size:11.5px;font-weight:700;">ğŸ’» FenÃªtre Web</span></td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Navigateur intÃ©grÃ© pour tout site web.</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Plein Ã©cran disponible</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;"><span style="background:#FF692A;color:white;border-radius:5px;padding:2px 8px;font-size:11.5px;font-weight:700;">ğŸ’ OutilsProfs</span></td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Ouvre directement ecolebernardet.github.io/outilsprofs.</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Micro, camÃ©ra autorisÃ©s</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;"><span style="background:#480eb3;color:white;border-radius:5px;padding:2px 8px;font-size:11.5px;font-weight:700;">ğŸ§˜ DÃ©fi Calme</span></td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Outil de gestion du calme en classe.</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Plein Ã©cran disponible</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;"><span style="background:#E74C3C;color:white;border-radius:5px;padding:2px 8px;font-size:11.5px;font-weight:700;">ğŸ“„ PDF</span></td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Affiche un fichier PDF local.</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Fichier non sauvegardÃ© (rÃ©-ouvrir Ã  chaque session)</td></tr>
          <tr><td style="padding:8px 12px;"><span style="background:#00AACC;color:white;border-radius:5px;padding:2px 8px;font-size:11.5px;font-weight:700;">â›… MÃ©tÃ©o</span></td><td style="padding:8px 12px;color:#444;">Affiche la mÃ©tÃ©o rÃ©elle de la ville de l'Ã©cole.</td><td style="padding:8px 12px;color:#444;">Via Open-Meteo (gratuit, sans clÃ©). Clic sur le nom de la ville pour changer. RafraÃ®chi toutes les 10 min.</td></tr>
        </table>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">âš™ï¸ ContrÃ´les communs Ã  tous les widgets</div>
        <table style="width:100%;border-collapse:collapse;font-size:13px;">
          <tr><th style="background:#f0f3f9;text-align:left;padding:8px 12px;font-weight:700;border-bottom:2px solid #dde2ea;">PoignÃ©e</th><th style="background:#f0f3f9;text-align:left;padding:8px 12px;font-weight:700;border-bottom:2px solid #dde2ea;">Position</th><th style="background:#f0f3f9;text-align:left;padding:8px 12px;font-weight:700;border-bottom:2px solid #dde2ea;">Action</th></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;font-weight:700;">âœ¥</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Gauche (milieu)</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">DÃ©placer par glisser-dÃ©poser</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;font-weight:700;">â†»</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Droite (milieu)</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Faire pivoter (magnÃ©tisme 0Â°/45Â°/90Â°â€¦)</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;font-weight:700;">ğŸ“Œ</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Haut (centre)</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Ã‰pingler au premier plan (fond dorÃ© = Ã©pinglÃ©)</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;font-weight:700;">ğŸ”½</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Haut (droite du centre)</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Envoyer derriÃ¨re tous les autres widgets</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;font-weight:700;">â˜°</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Bas (centre)</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Menu contextuel (dupliquer, modifierâ€¦)</td></tr>
          <tr><td style="padding:8px 12px;font-weight:700;color:#ff5f56;">Ã—</td><td style="padding:8px 12px;color:#444;">Haut droite</td><td style="padding:8px 12px;color:#444;">Supprimer le widget</td></tr>
        </table>
        <div style="background:#eef7ff;border-left:4px solid #2B7FFF;border-radius:0 8px 8px 0;padding:10px 14px;font-size:12.5px;color:#1a4d8f;margin:14px 0;">ğŸ’¡ <strong>Redimensionner :</strong> Survolez un widget pour faire apparaÃ®tre la poignÃ©e de redimensionnement (triangle gris, bas-droite de la zone de contenu).</div>
      </div>

      <!-- SÃ‰LECTION -->
      <div id="h-selection" class="help-section" style="display:none;">
        <div style="font-size:1.15em;font-weight:800;color:#1a1a2e;margin-bottom:14px;padding-bottom:8px;border-bottom:2px solid #e5e8ee;">ğŸ–±ï¸ SÃ©lectionner des widgets</div>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:0 0 8px 0;">Clic simple</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">Cliquer sur un widget le sÃ©lectionne (bordure bleue). Si le widget n'appartient Ã  aucun groupe, ses poignÃ©es natives apparaissent directement dessus.</p>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">SÃ©lection multiple â€” Ctrl + clic</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">Maintenez <strong>Ctrl</strong> (ou âŒ˜ sur Mac) et cliquez sur plusieurs widgets. Recliquer sur un widget sÃ©lectionnÃ© le dÃ©sÃ©lectionne.</p>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">Rectangle de sÃ©lection</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">Cliquez-glissez sur le <strong>fond du tableau</strong> (pas sur un widget) pour tracer un rectangle. Tous les widgets et traits Ã  l'intÃ©rieur sont sÃ©lectionnÃ©s.</p>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">Overlay de sÃ©lection multiple</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">Quand plusieurs Ã©lÃ©ments sont sÃ©lectionnÃ©s, un cadre bleu pointillÃ© entoure l'ensemble :</p>
        <table style="width:100%;border-collapse:collapse;font-size:13px;margin-bottom:16px;">
          <tr><th style="background:#f0f3f9;text-align:left;padding:8px 12px;font-weight:700;border-bottom:2px solid #dde2ea;">Bouton</th><th style="background:#f0f3f9;text-align:left;padding:8px 12px;font-weight:700;border-bottom:2px solid #dde2ea;">Action</th></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;font-weight:700;">âœ¥</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">DÃ©placer tout le groupe simultanÃ©ment</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;font-weight:700;">â†»</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Faire pivoter autour du centre de la sÃ©lection</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;font-weight:700;">â†˜</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Redimensionner l'ensemble (+ Shift = proportionnel)</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;font-weight:700;color:#ff5f56;">Ã—</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Supprimer tous les Ã©lÃ©ments sÃ©lectionnÃ©s</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;font-weight:700;">â˜°</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Menu contextuel (dupliquer, premier planâ€¦)</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;font-weight:700;">âŠ Grouper</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">CrÃ©er un groupe permanent (visible si â‰¥ 2 Ã©lÃ©ments)</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;font-weight:700;">â›“ï¸ Dissocier</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Dissoudre un groupe existant</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;font-weight:700;">â†” / â†•</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">SymÃ©trie horizontale / verticale</td></tr>
          <tr><td style="padding:8px 12px;font-weight:700;">ğŸ”“/ğŸ”’</td><td style="padding:8px 12px;color:#444;">Verrouiller/dÃ©verrouiller les proportions au redimensionnement</td></tr>
        </table>
        <div style="background:#eef7ff;border-left:4px solid #2B7FFF;border-radius:0 8px 8px 0;padding:10px 14px;font-size:12.5px;color:#1a4d8f;margin:10px 0;">ğŸ’¡ Double-clic sur â†» (overlay multi-sÃ©lection) remet tous les Ã©lÃ©ments Ã  leur angle d'origine avant la rotation groupÃ©e.</div>
      </div>

      <!-- DÃ‰PLACEMENT -->
      <div id="h-deplacement" class="help-section" style="display:none;">
        <div style="font-size:1.15em;font-weight:800;color:#1a1a2e;margin-bottom:14px;padding-bottom:8px;border-bottom:2px solid #e5e8ee;">âœ¥ DÃ©placer des widgets</div>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:0 0 8px 0;">DÃ©placer un widget seul</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">Cliquez sur la poignÃ©e <strong>âœ¥</strong> Ã  gauche du widget (apparaÃ®t au survol ou Ã  la sÃ©lection), puis glissez. RelÃ¢chez pour valider la position.</p>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">DÃ©placer plusieurs widgets</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">SÃ©lectionnez plusieurs Ã©lÃ©ments (Ctrl+clic ou rectangle), puis utilisez la poignÃ©e âœ¥ de l'overlay bleu pour dÃ©placer tout le groupe d'un seul mouvement.</p>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">Ordre d'empilement (z-index)</div>
        <ul style="padding-left:20px;margin-bottom:10px;">
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:4px;"><strong>ğŸ“Œ Ã‰pingler</strong> â€” place le widget en premier plan permanent. Son cadre devient dorÃ©.</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:4px;"><strong>ğŸ”½ Envoyer derriÃ¨re</strong> â€” place le widget tout derriÃ¨re (utile pour les images de fond).</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;">Tout clic sur un widget non Ã©pinglÃ© le remonte automatiquement au-dessus des autres.</li>
        </ul>
        <div style="background:#eef7ff;border-left:4px solid #2B7FFF;border-radius:0 8px 8px 0;padding:10px 14px;font-size:12.5px;color:#1a4d8f;margin:10px 0;">ğŸ’¡ <strong>Image de fond :</strong> Ajoutez une forme large ou un widget image, puis utilisez ğŸ”½ pour l'envoyer derriÃ¨re tous les autres Ã©lÃ©ments.</div>
      </div>

      <!-- ROTATION -->
      <div id="h-rotation" class="help-section" style="display:none;">
        <div style="font-size:1.15em;font-weight:800;color:#1a1a2e;margin-bottom:14px;padding-bottom:8px;border-bottom:2px solid #e5e8ee;">â†» Rotation des Ã©lÃ©ments</div>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:0 0 8px 0;">Rotation d'un widget seul</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">Cliquez-glissez la poignÃ©e <strong>â†»</strong> Ã  droite du widget. L'angle s'affiche en temps rÃ©el dans une bulle flottante.</p>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">MagnÃ©tisme automatique</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">La rotation se "snap" automatiquement sur : <strong>0Â°, 45Â°, 90Â°, 135Â°, 180Â°, 225Â°, 270Â°, 315Â°</strong>. DÃ¨s que vous approchez l'un de ces angles Ã  moins de 2Â°, le widget s'y colle.</p>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">Remettre Ã  0Â°</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">Double-cliquez sur la poignÃ©e <strong>â†»</strong> pour rÃ©initialiser instantanÃ©ment l'angle Ã  0Â°.</p>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">Rotation d'une sÃ©lection multiple</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">La rotation s'effectue autour du centre gÃ©omÃ©trique de la sÃ©lection. Tous les Ã©lÃ©ments (widgets + traits) pivotent ensemble.</p>
        <div style="background:#fff8e6;border-left:4px solid #f39c12;border-radius:0 8px 8px 0;padding:10px 14px;font-size:12.5px;color:#7a5000;margin:10px 0;">âš ï¸ Avec une sÃ©lection multiple, double-clic sur â†» remet chaque widget Ã  son angle individuel d'avant la rotation groupÃ©e (pas nÃ©cessairement 0Â°).</div>
      </div>

      <!-- GROUPES -->
      <div id="h-groupes" class="help-section" style="display:none;">
        <div style="font-size:1.15em;font-weight:800;color:#1a1a2e;margin-bottom:14px;padding-bottom:8px;border-bottom:2px solid #e5e8ee;">â›“ï¸ Groupes de widgets</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">Le groupement lie plusieurs Ã©lÃ©ments pour les dÃ©placer, redimensionner et faire pivoter ensemble comme un seul objet.</p>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">CrÃ©er un groupe</div>
        <ol style="padding-left:20px;margin-bottom:14px;">
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:4px;">SÃ©lectionnez au moins 2 Ã©lÃ©ments (Ctrl+clic ou rectangle).</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:4px;">Cliquez sur <strong>âŠ Grouper</strong> dans l'overlay bleu (ou via â˜°).</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;">Les membres du groupe sont liÃ©s (bordure ambrÃ©e sur les widgets texte).</li>
        </ol>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">Interagir avec un groupe</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">Cliquer sur n'importe quel membre sÃ©lectionne <strong>tout le groupe</strong> d'un coup, affichant l'overlay multi-sÃ©lection complet.</p>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">Dissocier un groupe</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">SÃ©lectionnez un membre du groupe, puis cliquez sur <strong>â›“ï¸ Dissocier</strong> dans l'overlay ou dans â˜°. Chaque Ã©lÃ©ment redevient indÃ©pendant.</p>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">Groupes mixtes</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">Un groupe peut contenir des widgets texte, des formes SVG <em>et</em> des traits de dessin libre. Tout se dÃ©place, pivote et redimensionne ensemble.</p>
        <div style="background:#eef7ff;border-left:4px solid #2B7FFF;border-radius:0 8px 8px 0;padding:10px 14px;font-size:12.5px;color:#1a4d8f;margin:10px 0;">ğŸ’¡ Pour ajouter un Ã©lÃ©ment Ã  un groupe existant, sÃ©lectionnez les membres du groupe + le nouvel Ã©lÃ©ment avec Ctrl+clic, puis regroupez. L'ancien groupe est absorbÃ© dans le nouveau.</div>
      </div>

      <!-- TEXTE -->
      <div id="h-texte" class="help-section" style="display:none;">
        <div style="font-size:1.15em;font-weight:800;color:#1a1a2e;margin-bottom:14px;padding-bottom:8px;border-bottom:2px solid #e5e8ee;">ğŸ–Šï¸ Texte &amp; Mise en forme</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">Les widgets <strong>Texte</strong> et <strong>Devoirs</strong> sont des Ã©diteurs de texte enrichi. La <strong>barre de mise en forme globale</strong> s'affiche automatiquement en bas de l'Ã©cran dÃ¨s qu'un de ces widgets est actif.</p>
        <table style="width:100%;border-collapse:collapse;font-size:13px;margin:10px 0 16px 0;">
          <tr><th style="background:#f0f3f9;text-align:left;padding:8px 12px;font-weight:700;border-bottom:2px solid #dde2ea;">Outil</th><th style="background:#f0f3f9;text-align:left;padding:8px 12px;font-weight:700;border-bottom:2px solid #dde2ea;">Description</th></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;font-weight:700;">G / I / S</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Gras, Italique, SoulignÃ© sur le texte sÃ©lectionnÃ©</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;font-weight:700;">ğŸ¨ Couleur texte</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Couleur du texte sÃ©lectionnÃ©</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;font-weight:700;">ğŸ–Šï¸ Surligner</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Couleur de fond (surlignage) du texte sÃ©lectionnÃ©</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;font-weight:700;">â¬œ Fond widget</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Couleur de fond de tout le widget</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;font-weight:700;">â˜‘ Transparence</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Rend le fond du widget entiÃ¨rement transparent</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;font-weight:700;">ğŸ”† OpacitÃ© fond</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Slider 0â€“100% pour attÃ©nuer progressivement la couleur de fond</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;font-weight:700;">Police</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Arial, Segoe UI, Comic Sans, Verdana, KGPerfectPenmanship, Andika, ğŸ§© OpenDyslexic, ğŸ“ Belle Allure GS</td></tr>
          <tr><td style="padding:8px 12px;font-weight:700;">âˆ’ taille +</td><td style="padding:8px 12px;color:#444;">Diminue/augmente la taille de police de 2px. Saisie directe possible (EntrÃ©e pour valider).</td></tr>
        </table>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">Polices spÃ©ciales incluses</div>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:14px;">
          <div style="background:#f8f9fb;border:1px solid #e5e8ee;border-radius:10px;padding:12px;"><div style="font-weight:700;font-size:13px;margin-bottom:4px;">ğŸ§© OpenDyslexic</div><p style="font-size:12.5px;color:#444;margin:0;">ConÃ§ue pour faciliter la lecture des personnes dyslexiques.</p></div>
          <div style="background:#f8f9fb;border:1px solid #e5e8ee;border-radius:10px;padding:12px;"><div style="font-weight:700;font-size:13px;margin-bottom:4px;">ğŸ“ Belle Allure GS</div><p style="font-size:12.5px;color:#444;margin:0;">Cursive adaptÃ©e Ã  l'Ã©cole primaire (Ã©criture liÃ©e).</p></div>
          <div style="background:#f8f9fb;border:1px solid #e5e8ee;border-radius:10px;padding:12px;"><div style="font-weight:700;font-size:13px;margin-bottom:4px;">âœ’ï¸ KGPerfectPenmanship</div><p style="font-size:12.5px;color:#444;margin:0;">Style Ã©criture manuscrite soignÃ©e.</p></div>
          <div style="background:#f8f9fb;border:1px solid #e5e8ee;border-radius:10px;padding:12px;"><div style="font-weight:700;font-size:13px;margin-bottom:4px;">ğŸ”¡ Andika</div><p style="font-size:12.5px;color:#444;margin:0;">Lisible, adaptÃ©e aux lecteurs dÃ©butants.</p></div>
        </div>
        <div style="background:#eef7ff;border-left:4px solid #2B7FFF;border-radius:0 8px 8px 0;padding:10px 14px;font-size:12.5px;color:#1a4d8f;margin:10px 0;">ğŸ’¡ <strong>SÃ©lectionnez avant de formater :</strong> SÃ©lectionnez le texte Ã  modifier AVANT de cliquer sur un bouton de la barre.</div>
      </div>

      <!-- FORMES -->
      <div id="h-formes" class="help-section" style="display:none;">
        <div style="font-size:1.15em;font-weight:800;color:#1a1a2e;margin-bottom:14px;padding-bottom:8px;border-bottom:2px solid #e5e8ee;">ğŸ”² Formes gÃ©omÃ©triques</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:14px;">Cliquez sur le bouton <strong>ğŸ”²</strong> en bas pour ouvrir le panneau des formes.</p>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:16px;">
          <div style="background:#f8f9fb;border:1px solid #e5e8ee;border-radius:10px;padding:12px;"><div style="font-weight:700;font-size:13px;margin-bottom:4px;">â­• Cercle / Ellipse</div><p style="font-size:12.5px;color:#444;margin:0;">Ellipse ronde ou ovale selon les dimensions.</p></div>
          <div style="background:#f8f9fb;border:1px solid #e5e8ee;border-radius:10px;padding:12px;"><div style="font-weight:700;font-size:13px;margin-bottom:4px;">â¬› CarrÃ© / â–¬ Rectangle</div><p style="font-size:12.5px;color:#444;margin:0;">Formes rectangulaires Ã  dimensions libres.</p></div>
          <div style="background:#f8f9fb;border:1px solid #e5e8ee;border-radius:10px;padding:12px;"><div style="font-weight:700;font-size:13px;margin-bottom:4px;">â—‡ Losange / â–± ParallÃ©logramme</div><p style="font-size:12.5px;color:#444;margin:0;">QuadrilatÃ¨res obliques.</p></div>
          <div style="background:#f8f9fb;border:1px solid #e5e8ee;border-radius:10px;padding:12px;"><div style="font-weight:700;font-size:13px;margin-bottom:4px;">â€” Ligne / â¡ï¸ FlÃ¨che / â–² Triangle</div><p style="font-size:12.5px;color:#444;margin:0;">Trait, flÃ¨che directionnelle, triangle isocÃ¨le.</p></div>
        </div>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">Options de crÃ©ation</div>
        <ul style="padding-left:20px;margin-bottom:10px;">
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:4px;"><strong>Contour :</strong> couleur et Ã©paisseur (1 Ã  20 px)</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;"><strong>Remplissage :</strong> couleur + opacitÃ© (0 Ã  100%)</li>
        </ul>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">Modifier une forme existante</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;"><strong>Double-cliquez</strong> sur une forme pour ouvrir le panneau d'Ã©dition flottant. Changez contour, remplissage et opacitÃ© en temps rÃ©el.</p>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">Redimensionner</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">PoignÃ©e bas-droite de la forme. Maintenez <strong>Shift</strong> ou activez ğŸ”’ pour conserver le ratio largeur/hauteur.</p>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">SymÃ©trie &amp; Duplication</div>
        <ul style="padding-left:20px;margin-bottom:10px;">
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:4px;"><strong>â†”</strong> SymÃ©trie horizontale (miroir gauche/droite)</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:4px;"><strong>â†•</strong> SymÃ©trie verticale (miroir haut/bas)</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;"><strong>â˜° â†’ â§‰ Dupliquer</strong> pour cloner la forme</li>
        </ul>
      </div>

      <!-- DESSIN -->
      <div id="h-dessin" class="help-section" style="display:none;">
        <div style="font-size:1.15em;font-weight:800;color:#1a1a2e;margin-bottom:14px;padding-bottom:8px;border-bottom:2px solid #e5e8ee;">âœï¸ Dessin libre &amp; Reconnaissance de formes</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">Cliquez sur <strong>âœï¸</strong> en bas pour activer le mode dessin. Une barre d'options apparaÃ®t.</p>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">Mode Dessin libre</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:8px;">Tracez Ã  main levÃ©e avec la souris ou le stylet. Choisissez la <strong>couleur</strong> et l'<strong>Ã©paisseur</strong> (1 Ã  40 px). Chaque tracÃ© est stockÃ© sÃ©parÃ©ment et peut Ãªtre sÃ©lectionnÃ©/dÃ©placÃ©/supprimÃ© indÃ©pendamment.</p>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">Mode Reconnaissance de formes ğŸ”µ</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:8px;">Basculez sur <strong>Formes</strong> dans la barre. Dessinez approximativement un cercle, carrÃ©, rectangle ou triangle : l'app dÃ©tecte automatiquement la forme et la remplace par une <strong>forme vectorielle nette</strong>.</p>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">Options supplÃ©mentaires : couleur et opacitÃ© du remplissage reconnu.</p>
        <div style="background:#eef7ff;border-left:4px solid #2B7FFF;border-radius:0 8px 8px 0;padding:10px 14px;font-size:12.5px;color:#1a4d8f;margin:10px 0 14px 0;">ğŸ’¡ <strong>Conseil :</strong> Fermez votre tracÃ© (rejoignez le point de dÃ©part) pour dÃ©clencher la reconnaissance. Les formes non fermÃ©es sont conservÃ©es comme tracÃ© libre.</div>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">Effacer / Quitter</div>
        <ul style="padding-left:20px;margin-bottom:10px;">
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:4px;"><strong>ğŸ—‘ï¸ Effacer</strong> â€” supprime tous les traits du canvas</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;"><strong>âœ– Fermer</strong> (ou recliquer âœï¸) â€” quitte le mode dessin</li>
        </ul>
        <div style="background:#fff8e6;border-left:4px solid #f39c12;border-radius:0 8px 8px 0;padding:10px 14px;font-size:12.5px;color:#7a5000;margin:10px 0;">âš ï¸ En mode dessin, les widgets ne sont plus cliquables. Quittez le mode dessin pour interagir avec eux.</div>
      </div>

      <!-- GOMME -->
      <div id="h-gomme" class="help-section" style="display:none;">
        <div style="font-size:1.15em;font-weight:800;color:#1a1a2e;margin-bottom:14px;padding-bottom:8px;border-bottom:2px solid #e5e8ee;">ğŸ§½ Gomme</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">Cliquez sur <strong>ğŸ§½</strong> en bas pour activer la gomme.</p>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:0 0 8px 0;">Effacer des traits</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">Passez la gomme sur les traits de dessin pour les effacer segment par segment. Les traits partiellement effacÃ©s sont dÃ©coupÃ©s proprement.</p>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">Effacer des formes SVG</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">La gomme s'applique aussi aux formes gÃ©omÃ©triques via un masque vectoriel. Si une forme est entiÃ¨rement recouverte, elle est automatiquement supprimÃ©e.</p>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">RÃ©gler la taille</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">Curseur <strong>Taille</strong> (5 Ã  80 px) dans la barre. Un aperÃ§u circulaire s'affiche sous le curseur de la souris.</p>
        <div style="background:#eef7ff;border-left:4px solid #2B7FFF;border-radius:0 8px 8px 0;padding:10px 14px;font-size:12.5px;color:#1a4d8f;margin:10px 0;">ğŸ’¡ Utilisez <strong>â†© Annuler</strong> pour rÃ©tablir des traits effacÃ©s par erreur.</div>
      </div>

      <!-- FOND -->
      <div id="h-fond" class="help-section" style="display:none;">
        <div style="font-size:1.15em;font-weight:800;color:#1a1a2e;margin-bottom:14px;padding-bottom:8px;border-bottom:2px solid #e5e8ee;">ğŸ–¼ï¸ Fond d'Ã©cran</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">Menu <strong>WIDGETS</strong> â†’ bouton <strong>ğŸ–¼ï¸ Choisir fond â¯</strong>.</p>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:0 0 8px 0;">Couleurs prÃ©dÃ©finies</div>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:16px;">
          <div style="background:#f8f9fb;border:1px solid #e5e8ee;border-radius:10px;padding:12px;display:flex;align-items:center;gap:10px;"><span style="display:inline-block;width:20px;height:20px;border-radius:4px;background:#eef2f5;border:1px solid #ddd;flex-shrink:0;"></span><div><div style="font-weight:700;font-size:13px;">DÃ©faut</div><p style="font-size:12px;color:#666;margin:0;">Gris clair neutre</p></div></div>
          <div style="background:#f8f9fb;border:1px solid #e5e8ee;border-radius:10px;padding:12px;display:flex;align-items:center;gap:10px;"><span style="display:inline-block;width:20px;height:20px;border-radius:4px;background:#2f3542;flex-shrink:0;"></span><div><div style="font-weight:700;font-size:13px;">Ardoise</div><p style="font-size:12px;color:#666;margin:0;">Gris foncÃ©</p></div></div>
          <div style="background:#f8f9fb;border:1px solid #e5e8ee;border-radius:10px;padding:12px;display:flex;align-items:center;gap:10px;"><span style="display:inline-block;width:20px;height:20px;border-radius:4px;background:#104626;flex-shrink:0;"></span><div><div style="font-weight:700;font-size:13px;">Tableau vert</div><p style="font-size:12px;color:#666;margin:0;">Vert tableau classique</p></div></div>
          <div style="background:#f8f9fb;border:1px solid #e5e8ee;border-radius:10px;padding:12px;display:flex;align-items:center;gap:10px;"><span style="display:inline-block;width:20px;height:20px;border-radius:4px;background:#BAA09B;flex-shrink:0;"></span><div><div style="font-weight:700;font-size:13px;">Vieux rose</div><p style="font-size:12px;color:#666;margin:0;">Tons chauds doux</p></div></div>
          <div style="background:#f8f9fb;border:1px solid #e5e8ee;border-radius:10px;padding:12px;display:flex;align-items:center;gap:10px;"><span style="display:inline-block;width:20px;height:20px;border-radius:4px;background:#EDD9D5;border:1px solid #ddd;flex-shrink:0;"></span><div><div style="font-weight:700;font-size:13px;">Beige</div><p style="font-size:12px;color:#666;margin:0;">Chaleureux et reposant</p></div></div>
          <div style="background:#f8f9fb;border:1px solid #e5e8ee;border-radius:10px;padding:12px;display:flex;align-items:center;gap:10px;"><span style="display:inline-block;width:20px;height:20px;border-radius:4px;background:#000;flex-shrink:0;"></span><div><div style="font-weight:700;font-size:13px;">Noir</div><p style="font-size:12px;color:#666;margin:0;">Fond entiÃ¨rement noir</p></div></div>
        </div>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">Image personnalisÃ©e</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">Bouton <strong>ğŸ“· Importer image</strong> â†’ sÃ©lectionnez une image depuis votre ordinateur. Elle est stockÃ©e en base64 dans le navigateur et rechargÃ©e automatiquement.</p>
        <div style="background:#fff8e6;border-left:4px solid #f39c12;border-radius:0 8px 8px 0;padding:10px 14px;font-size:12.5px;color:#7a5000;margin:10px 0;">âš ï¸ Les images trÃ¨s lourdes peuvent ralentir la sauvegarde locale. PrivilÃ©giez des fichiers compressÃ©s (JPEG, WebP) de moins de 2 Mo.</div>
      </div>

      <!-- SAUVEGARDE -->
      <div id="h-sauvegarde" class="help-section" style="display:none;">
        <div style="font-size:1.15em;font-weight:800;color:#1a1a2e;margin-bottom:14px;padding-bottom:8px;border-bottom:2px solid #e5e8ee;">ğŸ’¾ Sauvegarde &amp; Chargement</div>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:0 0 8px 0;">Sauvegarde automatique</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">Toute modification est enregistrÃ©e automatiquement dans le <strong>localStorage</strong> du navigateur. La prochaine ouverture restaure exactement l'Ã©tat prÃ©cÃ©dent.</p>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">Exporter â€” ğŸ’¾</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">TÃ©lÃ©charge un fichier <strong>.json</strong> contenant toutes les scÃ¨nes et leur contenu. NommÃ© automatiquement <code style="background:#f0f3f9;padding:1px 5px;border-radius:3px;font-size:12px;">lebureauduprof_export_AAAA-MM-JJ.json</code>.</p>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">Charger â€” ğŸ“‚</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">SÃ©lectionnez un fichier .json exportÃ© prÃ©cÃ©demment. Si le fichier contient plusieurs scÃ¨nes, elles sont toutes restaurÃ©es. Si c'est un fichier d'ancienne version (mono-scÃ¨ne), il est chargÃ© dans la scÃ¨ne active.</p>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">Ce qui est sauvegardÃ©</div>
        <ul style="padding-left:20px;margin-bottom:10px;">
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:3px;">Toutes les scÃ¨nes (nom, widgets, formes, dessins, fond)</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:3px;">Tous les widgets (type, position, taille, contenu, style)</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:3px;">Toutes les formes gÃ©omÃ©triques (type, couleurs, taille, rotation, flip)</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:3px;">Tous les traits de dessin libre</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:3px;">Le fond d'Ã©cran de chaque scÃ¨ne (couleur ou image)</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;">Les groupes de widgets</li>
        </ul>
        <div style="background:#eef7ff;border-left:4px solid #2B7FFF;border-radius:0 8px 8px 0;padding:10px 14px;font-size:12.5px;color:#1a4d8f;margin:10px 0 14px 0;">ğŸ’¡ <strong>Astuce :</strong> Exportez rÃ©guliÃ¨rement un fichier .json comme sauvegarde externe en cas de suppression du cache du navigateur.</div>
        <div style="background:#fff8e6;border-left:4px solid #f39c12;border-radius:0 8px 8px 0;padding:10px 14px;font-size:12.5px;color:#7a5000;margin:10px 0;">âš ï¸ Les fichiers PDF ouverts via le widget PDF <em>ne sont pas</em> sauvegardÃ©s. Il faudra les rÃ©-ouvrir Ã  chaque session.</div>
      </div>

      <!-- ANNULER/REFAIRE -->
      <div id="h-undoredo" class="help-section" style="display:none;">
        <div style="font-size:1.15em;font-weight:800;color:#1a1a2e;margin-bottom:14px;padding-bottom:8px;border-bottom:2px solid #e5e8ee;">â†© Annuler &amp; Refaire</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:14px;">Un historique de jusqu'Ã  <strong>60 Ã©tats</strong> est conservÃ© pendant la session.</p>
        <table style="width:100%;border-collapse:collapse;font-size:13px;margin-bottom:16px;">
          <tr><th style="background:#f0f3f9;text-align:left;padding:8px 12px;font-weight:700;border-bottom:2px solid #dde2ea;">Bouton</th><th style="background:#f0f3f9;text-align:left;padding:8px 12px;font-weight:700;border-bottom:2px solid #dde2ea;">Action</th><th style="background:#f0f3f9;text-align:left;padding:8px 12px;font-weight:700;border-bottom:2px solid #dde2ea;">Condition</th></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;font-weight:700;">â†© Annuler</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Revient Ã  l'Ã©tat prÃ©cÃ©dent</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">GrisÃ© si aucune action Ã  annuler</td></tr>
          <tr><td style="padding:8px 12px;font-weight:700;">â†ª Refaire</td><td style="padding:8px 12px;color:#444;">RÃ©tablit l'action annulÃ©e</td><td style="padding:8px 12px;color:#444;">GrisÃ© si rien Ã  refaire</td></tr>
        </table>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">Ce qui est couvert</div>
        <ul style="padding-left:20px;margin-bottom:10px;">
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:3px;">Ajout / suppression de widgets ou de formes</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:3px;">DÃ©placement, rotation, redimensionnement</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:3px;">Traits de dessin et effaÃ§ages</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:3px;">Changements de fond</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;">Groupement / dissociation</li>
        </ul>
        <div style="background:#eef7ff;border-left:4px solid #2B7FFF;border-radius:0 8px 8px 0;padding:10px 14px;font-size:12.5px;color:#1a4d8f;margin:10px 0 14px 0;">ğŸ’¡ Les modifications de texte (frappe clavier) sont enregistrÃ©es dans l'historique aprÃ¨s 800 ms d'inactivitÃ©.</div>
        <div style="background:#fff8e6;border-left:4px solid #f39c12;border-radius:0 8px 8px 0;padding:10px 14px;font-size:12.5px;color:#7a5000;margin:10px 0;">âš ï¸ L'historique est local Ã  la scÃ¨ne active et est perdu si vous fermez ou rechargez la page. Exportez rÃ©guliÃ¨rement avec ğŸ’¾.</div>
      </div>

      <!-- OPTIONS AVANCÃ‰ES -->
      <div id="h-avance" class="help-section" style="display:none;">
        <div style="font-size:1.15em;font-weight:800;color:#1a1a2e;margin-bottom:14px;padding-bottom:8px;border-bottom:2px solid #e5e8ee;">âš™ï¸ Options &amp; FonctionnalitÃ©s avancÃ©es</div>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:0 0 8px 0;">ğŸ—“ï¸ Widget Planning â€” dÃ©tail</div>
        <ul style="padding-left:20px;margin-bottom:14px;">
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:3px;">Cliquez sur une heure ou un texte pour l'Ã©diter directement.</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:3px;">Glissez les lignes via la poignÃ©e <strong>â‹®â‹®</strong> pour les rÃ©organiser.</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:3px;">Bouton <strong>+</strong> en bas pour ajouter une ligne.</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:3px;">Bouton <strong>Ã—</strong> (au survol d'une ligne) pour supprimer.</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;">L'heure et la date courantes s'affichent en temps rÃ©el dans l'en-tÃªte.</li>
        </ul>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">ğŸ¬ Widget YouTube â€” astuces</div>
        <ul style="padding-left:20px;margin-bottom:14px;">
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:3px;">Accepte les liens YouTube normaux, youtu.be et Shorts.</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:3px;"><strong>ğŸ”‡ Son seul</strong> : masque la vidÃ©o, idÃ©al pour une musique de fond discrÃ¨te.</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:3px;"><strong>ğŸ“º VidÃ©o</strong> : rÃ©affiche la vidÃ©o.</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;">Le bouton damier rend le fond du widget transparent.</li>
        </ul>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">ğŸ“ Redimensionnement adaptatif</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:14px;">Lorsque vous redimensionnez la fenÃªtre du navigateur, tous les widgets et formes sont repositionnÃ©s et redimensionnÃ©s proportionnellement pour conserver le rendu 16:9.</p>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">â›¶ Mode plein Ã©cran</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:14px;">Disponible sur YouTube, FenÃªtre Web, OutilsProfs, DÃ©fi Calme et PDF. Cliquez sur â›¶ dans la barre du widget. Appuyez sur <strong>Ã‰chap</strong> ou le bouton de sortie pour quitter.</p>
        <div style="background:#eef7ff;border-left:4px solid #2B7FFF;border-radius:0 8px 8px 0;padding:12px 16px;font-size:12.5px;color:#1a4d8f;margin:16px 0;">
          ğŸ’¡ <strong>Conseil pÃ©dagogique â€” configuration type :</strong><br><br>
          â€¢ <strong>Date + Heure</strong> en haut â†’ affichage permanent<br>
          â€¢ <strong>Planning</strong> Ã  gauche â†’ dÃ©roulÃ© de la journÃ©e<br>
          â€¢ <strong>Devoirs</strong> Ã  droite â†’ travaux Ã  noter<br>
          â€¢ <strong>YouTube</strong> en bas â†’ musique de travail<br><br>
          Sauvegardez cette configuration en .json et rechargez-la chaque matin en 2 secondes !
        </div>
      </div>

      <!-- SCÃˆNES -->
      <div id="h-scenes" class="help-section" style="display:none;">
        <div style="font-size:1.15em;font-weight:800;color:#1a1a2e;margin-bottom:14px;padding-bottom:8px;border-bottom:2px solid #e5e8ee;">ğŸ—‚ï¸ ScÃ¨nes</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">Les scÃ¨nes permettent d'avoir plusieurs <strong>bureaux indÃ©pendants</strong> que vous pouvez crÃ©er, nommer et switcher en un clic. Chaque scÃ¨ne possÃ¨de ses propres widgets, formes, dessins et fond d'Ã©cran.</p>

        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">Ouvrir le menu des scÃ¨nes</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">Cliquez sur le bouton <strong>ğŸ—‚ï¸ ScÃ¨nes</strong> dans la barre du bas (Ã  cÃ´tÃ© de WIDGETS). Le nom de la scÃ¨ne active est affichÃ© directement sur le bouton.</p>

        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">Actions disponibles dans le menu</div>
        <table style="width:100%;border-collapse:collapse;font-size:13px;margin-bottom:16px;">
          <tr><th style="background:#f0f3f9;text-align:left;padding:8px 12px;font-weight:700;border-bottom:2px solid #dde2ea;">Action</th><th style="background:#f0f3f9;text-align:left;padding:8px 12px;font-weight:700;border-bottom:2px solid #dde2ea;">Comment</th><th style="background:#f0f3f9;text-align:left;padding:8px 12px;font-weight:700;border-bottom:2px solid #dde2ea;">RÃ©sultat</th></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;font-weight:700;">Changer de scÃ¨ne</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Clic sur le nom d'une scÃ¨ne</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">La scÃ¨ne actuelle est sauvegardÃ©e, la nouvelle est chargÃ©e</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;font-weight:700;">CrÃ©er une scÃ¨ne</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Bouton <strong>ï¼‹ Nouvelle scÃ¨ne</strong></td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Copie de la scÃ¨ne actuelle, nommÃ©e "ScÃ¨ne N"</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;font-weight:700;">Renommer</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Clic sur âœï¸ Ã  droite de la scÃ¨ne</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">BoÃ®te de dialogue pour saisir un nouveau nom</td></tr>
          <tr><td style="padding:8px 12px;font-weight:700;color:#ff5f56;">Supprimer</td><td style="padding:8px 12px;color:#444;">Clic sur Ã— rouge Ã  droite de la scÃ¨ne</td><td style="padding:8px 12px;color:#444;">Confirmation demandÃ©e, puis scÃ¨ne supprimÃ©e dÃ©finitivement</td></tr>
        </table>

        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">Comportement au changement de scÃ¨ne</div>
        <ul style="padding-left:20px;margin-bottom:14px;">
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:4px;">La scÃ¨ne en cours est <strong>automatiquement sauvegardÃ©e</strong> avant de charger la suivante.</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:4px;">L'historique annuler/refaire est <strong>rÃ©initialisÃ©</strong> Ã  chaque changement de scÃ¨ne.</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:4px;">Le fond d'Ã©cran change avec la scÃ¨ne.</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;">Le bouton ğŸ—‚ï¸ affiche toujours le nom de la scÃ¨ne active.</li>
        </ul>

        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">Limites</div>
        <ul style="padding-left:20px;margin-bottom:14px;">
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:4px;">Maximum <strong>10 scÃ¨nes</strong> simultanÃ©es (le bouton ï¼‹ est grisÃ© au-delÃ ).</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;">Il est impossible de supprimer la derniÃ¨re scÃ¨ne restante.</li>
        </ul>

        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">Export et import multi-scÃ¨nes</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">Le bouton ğŸ’¾ exporte <strong>toutes les scÃ¨nes</strong> dans un seul fichier .json. Le bouton ğŸ“‚ restaure toutes les scÃ¨nes si le fichier en contient plusieurs.</p>

        <div style="background:#eef7ff;border-left:4px solid #2B7FFF;border-radius:0 8px 8px 0;padding:12px 16px;font-size:12.5px;color:#1a4d8f;margin:16px 0;">
          ğŸ’¡ <strong>IdÃ©es d'organisation :</strong><br><br>
          â€¢ <strong>ScÃ¨ne 1 â€” Matin</strong> : accueil, date, planning de la journÃ©e<br>
          â€¢ <strong>ScÃ¨ne 2 â€” Maths</strong> : leÃ§on du jour, exercices, timer<br>
          â€¢ <strong>ScÃ¨ne 3 â€” Lecture</strong> : texte affichÃ©, questions, vocabulaire<br>
          â€¢ <strong>ScÃ¨ne 4 â€” Fin de journÃ©e</strong> : devoirs, rÃ©cap, YouTube<br><br>
          Basculez d'une scÃ¨ne Ã  l'autre en 1 clic sans rien perdre !
        </div>
        <div style="background:#fff8e6;border-left:4px solid #f39c12;border-radius:0 8px 8px 0;padding:10px 14px;font-size:12.5px;color:#7a5000;margin:10px 0;">âš ï¸ Les scÃ¨nes sont stockÃ©es dans le localStorage du navigateur. Si vous videz le cache ou changez de navigateur, exportez d'abord votre fichier .json pour ne rien perdre.</div>
      </div>

      <!-- POINTEUR LASER -->
      <div id="h-laser" class="help-section" style="display:none;">
        <div style="font-size:1.15em;font-weight:800;color:#1a1a2e;margin-bottom:14px;padding-bottom:8px;border-bottom:2px solid #e5e8ee;">ğŸ”´ Pointeur laser</div>
        <p style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:10px;">Le pointeur laser remplace le curseur de la souris par un <strong>point rouge lumineux</strong>, idÃ©al pour attirer l'attention des Ã©lÃ¨ves sur une zone prÃ©cise du tableau projetÃ©.</p>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">Activer / DÃ©sactiver</div>
        <table style="width:100%;border-collapse:collapse;font-size:13px;margin-bottom:16px;">
          <tr><th style="background:#f0f3f9;text-align:left;padding:8px 12px;font-weight:700;border-bottom:2px solid #dde2ea;">Action</th><th style="background:#f0f3f9;text-align:left;padding:8px 12px;font-weight:700;border-bottom:2px solid #dde2ea;">RÃ©sultat</th></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;">Clic sur <strong>ğŸ”´</strong> dans la barre du bas</td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">Active le pointeur â€” le curseur disparaÃ®t, remplacÃ© par le point rouge lumineux</td></tr>
          <tr><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;">Reclic sur <strong>ğŸ”´</strong></td><td style="padding:8px 12px;border-bottom:1px solid #eef0f3;color:#444;">DÃ©sactive le pointeur â€” le curseur normal revient</td></tr>
          <tr><td style="padding:8px 12px;">Touche <strong>Ã‰chap</strong></td><td style="padding:8px 12px;color:#444;">DÃ©sactive le pointeur en urgence</td></tr>
        </table>
        <div style="font-size:0.97em;font-weight:700;color:#2B7FFF;margin:18px 0 8px 0;">Comportement</div>
        <ul style="padding-left:20px;margin-bottom:14px;">
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:4px;">Le point rouge s'affiche <strong>au-dessus de tout</strong> (widgets, dessins, formes).</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:4px;">Le bouton ğŸ”´ prend un fond rosÃ© pour indiquer que le mode est actif.</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;margin-bottom:4px;">Le pointeur n'interfÃ¨re pas avec les autres modes (dessin, gomme, sÃ©lection).</li>
          <li style="font-size:13.5px;color:#444;line-height:1.65;">Il fonctionne sur toute la surface de la page, y compris en dehors du tableau.</li>
        </ul>
        <div style="background:#eef7ff;border-left:4px solid #2B7FFF;border-radius:0 8px 8px 0;padding:10px 14px;font-size:12.5px;color:#1a4d8f;margin:10px 0;">
          ğŸ’¡ <strong>Astuce projection :</strong> Activez le pointeur laser juste avant de projeter votre Ã©cran. Les Ã©lÃ¨ves verront uniquement le point rouge lumineux, sans le curseur systÃ¨me qui peut Ãªtre peu visible sur un vidÃ©oprojecteur.
        </div>
      </div>

    </div><!-- /contenu -->
  </div><!-- /corps -->

  <!-- PIED -->
  <div style="padding:14px 28px;border-top:1px solid #e5e8ee;display:flex;justify-content:flex-end;flex-shrink:0;background:#fafbfc;">
    <button onclick="closeHelpModal()" style="background:#2B7FFF;color:white;border:none;padding:9px 22px;border-radius:10px;font-size:13px;font-weight:700;cursor:pointer;">Fermer</button>
  </div>

</div><!-- /modal -->
</div><!-- /overlay -->
