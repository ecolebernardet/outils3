<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aide â€“ Le Bureau du Prof</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { font-family: 'Segoe UI', system-ui, sans-serif; background: #1a1a2e; display: flex; align-items: center; justify-content: center; min-height: 100vh; padding: 20px; }

  /* OVERLAY */
  .modal-overlay {
    position: fixed; inset: 0; background: rgba(0,0,0,0.72);
    display: flex; align-items: center; justify-content: center;
    z-index: 20010; padding: 20px;
  }

  /* FENÃŠTRE */
  .modal {
    background: #fff; border-radius: 18px;
    width: 100%; max-width: 820px; max-height: 90vh;
    display: flex; flex-direction: column;
    box-shadow: 0 24px 80px rgba(0,0,0,0.5);
    overflow: hidden;
  }

  /* EN-TÃŠTE */
  .modal-head {
    background: linear-gradient(135deg, #2B7FFF 0%, #8E51FF 100%);
    color: white; padding: 22px 28px; display: flex;
    justify-content: space-between; align-items: flex-start; gap: 16px;
    flex-shrink: 0;
  }
  .modal-head h2 { font-size: 1.4em; font-weight: 800; letter-spacing: -0.3px; }
  .modal-head p { font-size: 0.85em; opacity: 0.85; margin-top: 4px; }
  .close-btn {
    background: rgba(255,255,255,0.2); border: none; border-radius: 50%;
    width: 36px; height: 36px; color: white; font-size: 20px; line-height: 1;
    cursor: pointer; flex-shrink: 0; transition: background 0.15s;
  }
  .close-btn:hover { background: rgba(255,255,255,0.35); }

  /* CORPS */
  .modal-body {
    display: flex; flex: 1; overflow: hidden;
  }

  /* MENU LATÃ‰RAL */
  .sidebar {
    width: 210px; flex-shrink: 0; background: #f4f6f9;
    border-right: 1px solid #e5e8ee; overflow-y: auto; padding: 14px 0;
  }
  .sidebar-item {
    display: flex; align-items: center; gap: 10px;
    padding: 9px 18px; cursor: pointer; font-size: 13px;
    color: #444; font-weight: 500; border-left: 3px solid transparent;
    transition: all 0.15s; user-select: none;
  }
  .sidebar-item:hover { background: #e8edf5; color: #2B7FFF; }
  .sidebar-item.active {
    background: #e8edf5; color: #2B7FFF;
    border-left-color: #2B7FFF; font-weight: 700;
  }
  .sidebar-item .ico { font-size: 16px; width: 20px; text-align: center; }
  .sidebar-sep { height: 1px; background: #e0e4ea; margin: 8px 18px; }

  /* CONTENU */
  .content {
    flex: 1; overflow-y: auto; padding: 28px 32px;
  }
  .section { display: none; }
  .section.active { display: block; }

  h3 {
    font-size: 1.15em; font-weight: 800; color: #1a1a2e;
    margin-bottom: 14px; padding-bottom: 8px;
    border-bottom: 2px solid #e5e8ee;
    display: flex; align-items: center; gap: 8px;
  }
  h4 {
    font-size: 0.97em; font-weight: 700; color: #2B7FFF;
    margin: 18px 0 8px 0;
  }
  p { font-size: 13.5px; color: #444; line-height: 1.65; margin-bottom: 10px; }

  /* CARTES */
  .card-grid {
    display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 16px;
  }
  @media (max-width: 600px) { .card-grid { grid-template-columns: 1fr; } }
  .card {
    background: #f8f9fb; border: 1px solid #e5e8ee; border-radius: 10px;
    padding: 14px 16px;
  }
  .card-title { font-size: 13px; font-weight: 700; color: #222; margin-bottom: 6px; display: flex; align-items: center; gap: 6px; }
  .card p { font-size: 12.5px; margin: 0; }

  /* BADGE RACCOURCI */
  .kbd {
    display: inline-flex; align-items: center; justify-content: center;
    background: #2B7FFF; color: white; border-radius: 5px;
    font-size: 11px; font-weight: 700; padding: 2px 7px; white-space: nowrap;
  }
  .kbd-gray {
    background: #e8edf5; color: #333; border-radius: 5px;
    font-size: 11px; font-weight: 600; padding: 2px 7px; white-space: nowrap;
    display: inline-flex;
  }

  /* TABLE */
  table { width: 100%; border-collapse: collapse; margin: 10px 0 16px 0; font-size: 13px; }
  th { background: #f0f3f9; text-align: left; padding: 8px 12px; font-weight: 700; color: #333; border-bottom: 2px solid #dde2ea; }
  td { padding: 8px 12px; border-bottom: 1px solid #eef0f3; color: #444; vertical-align: top; }
  tr:last-child td { border-bottom: none; }
  tr:hover td { background: #fafbfd; }

  /* ASTUCE */
  .tip {
    background: #eef7ff; border-left: 4px solid #2B7FFF;
    border-radius: 0 8px 8px 0; padding: 10px 14px;
    font-size: 12.5px; color: #1a4d8f; margin: 10px 0 14px 0;
    line-height: 1.55;
  }
  .tip strong { color: #1a3870; }

  .warn {
    background: #fff8e6; border-left: 4px solid #f39c12;
    border-radius: 0 8px 8px 0; padding: 10px 14px;
    font-size: 12.5px; color: #7a5000; margin: 10px 0 14px 0;
    line-height: 1.55;
  }

  /* BADGE COULEUR WIDGET */
  .wbadge {
    display: inline-block; border-radius: 5px; padding: 2px 8px;
    font-size: 11.5px; font-weight: 700; color: white; white-space: nowrap;
  }

  ul { padding-left: 20px; margin-bottom: 10px; }
  li { font-size: 13.5px; color: #444; line-height: 1.65; margin-bottom: 4px; }
  li strong { color: #222; }

  /* PIED */
  .modal-foot {
    padding: 14px 28px; border-top: 1px solid #e5e8ee;
    display: flex; justify-content: flex-end; flex-shrink: 0;
    background: #fafbfc;
  }
  .btn-close-foot {
    background: #2B7FFF; color: white; border: none;
    padding: 9px 22px; border-radius: 10px; font-size: 13px;
    font-weight: 700; cursor: pointer; transition: background 0.15s;
  }
  .btn-close-foot:hover { background: #1a6de0; }

  /* Preview dÃ©mo */
  .demo-row {
    display: flex; align-items: center; gap: 10px; flex-wrap: wrap;
    margin: 8px 0 14px 0;
  }
  .icon-demo {
    width: 38px; height: 38px; border-radius: 8px;
    display: flex; align-items: center; justify-content: center;
    font-size: 18px; flex-shrink: 0;
  }
</style>
</head>
<body>

<!-- Pour prÃ©visualisation autonome â€” la vraie modale s'intÃ¨gre dans l'app -->
<div class="modal-overlay">
<div class="modal">

  <!-- EN-TÃŠTE -->
  <div class="modal-head">
    <div>
      <h2>ğŸ“‹ Aide complÃ¨te â€” Le Bureau du Prof</h2>
      <p>Toutes les fonctionnalitÃ©s expliquÃ©es. Cliquez sur une section dans le menu Ã  gauche.</p>
    </div>
    <button class="close-btn" onclick="this.closest('.modal-overlay').style.display='none'">Ã—</button>
  </div>

  <!-- CORPS -->
  <div class="modal-body">

    <!-- SIDEBAR -->
    <nav class="sidebar" id="sidebar">
      <div class="sidebar-item active" data-target="s-intro"   onclick="show(this)"><span class="ico">ğŸ </span> Introduction</div>
      <div class="sidebar-item" data-target="s-widgets"        onclick="show(this)"><span class="ico">ğŸ“¦</span> Widgets</div>
      <div class="sidebar-item" data-target="s-selection"      onclick="show(this)"><span class="ico">ğŸ–±ï¸</span> SÃ©lection</div>
      <div class="sidebar-item" data-target="s-deplacement"    onclick="show(this)"><span class="ico">âœ¥</span> DÃ©placement</div>
      <div class="sidebar-item" data-target="s-rotation"       onclick="show(this)"><span class="ico">â†»</span> Rotation</div>
      <div class="sidebar-item" data-target="s-groupes"        onclick="show(this)"><span class="ico">â›“ï¸</span> Groupes</div>
      <div class="sidebar-sep"></div>
      <div class="sidebar-item" data-target="s-texte"          onclick="show(this)"><span class="ico">ğŸ–Šï¸</span> Texte &amp; Format</div>
      <div class="sidebar-item" data-target="s-formes"         onclick="show(this)"><span class="ico">ğŸ”²</span> Formes</div>
      <div class="sidebar-item" data-target="s-dessin"         onclick="show(this)"><span class="ico">âœï¸</span> Dessin libre</div>
      <div class="sidebar-item" data-target="s-gomme"          onclick="show(this)"><span class="ico">ğŸ§½</span> Gomme</div>
      <div class="sidebar-sep"></div>
      <div class="sidebar-item" data-target="s-fond"           onclick="show(this)"><span class="ico">ğŸ–¼ï¸</span> Fond d'Ã©cran</div>
      <div class="sidebar-item" data-target="s-sauvegarde"     onclick="show(this)"><span class="ico">ğŸ’¾</span> Sauvegarde</div>
      <div class="sidebar-item" data-target="s-undoredo"       onclick="show(this)"><span class="ico">â†©</span> Annuler / Refaire</div>
      <div class="sidebar-item" data-target="s-avance"         onclick="show(this)"><span class="ico">âš™ï¸</span> Options avancÃ©es</div>
    </nav>

    <!-- CONTENU -->
    <div class="content">

      <!-- â”€â”€â”€â”€â”€ INTRODUCTION â”€â”€â”€â”€â”€ -->
      <div id="s-intro" class="section active">
        <h3>ğŸ  Bienvenue sur Le Bureau du Prof</h3>
        <p>Le Bureau du Prof est un <strong>tableau de bord interactif</strong> conÃ§u pour les enseignants. Il permet d'afficher simultanÃ©ment des widgets (heure, date, devoirs, agenda, vidÃ©osâ€¦), de dessiner librement, d'ajouter des formes gÃ©omÃ©triques et de tout sauvegarder pour le retrouver Ã  la prochaine session.</p>
        <p>Le tableau respecte un <strong>format 16:9</strong> et s'adapte automatiquement Ã  la taille de votre Ã©cran, que vous soyez sur ordinateur ou vidÃ©oprojecteur.</p>

        <h4>ğŸ—ºï¸ Organisation de l'interface</h4>
        <div class="card-grid">
          <div class="card">
            <div class="card-title">â¬‡ï¸ Barre du bas</div>
            <p>AccÃ¨s principal aux boutons <strong>WIDGETS</strong>, dessin (âœï¸), formes (ğŸ”²), gomme (ğŸ§½), sauvegarde (ğŸ’¾ / ğŸ“‚), effacement (âŒ) et aide (â“).</p>
          </div>
          <div class="card">
            <div class="card-title">ğŸ“¦ Menu WIDGETS</div>
            <p>S'ouvre au clic sur <strong>WIDGETS</strong>. Liste tous les types de widgets Ã  crÃ©er ainsi que l'option de changement de fond.</p>
          </div>
          <div class="card">
            <div class="card-title">ğŸ–Šï¸ Barre de texte</div>
            <p>ApparaÃ®t automatiquement au clic dans un widget Texte ou Devoirs. Permet de formater police, taille, couleur, gras, italiqueâ€¦</p>
          </div>
          <div class="card">
            <div class="card-title">ğŸ’¾ Sauvegarde auto</div>
            <p>Tout est sauvegardÃ© dans le navigateur (localStorage) aprÃ¨s chaque modification. Utilisez ğŸ’¾ pour exporter en fichier .json.</p>
          </div>
        </div>

        <div class="tip"><strong>ğŸ’¡ Astuce dÃ©marrage :</strong> Cliquez sur <strong>WIDGETS</strong> pour ajouter votre premier widget, puis glissez-le en cliquant sur la poignÃ©e <strong>âœ¥</strong> qui apparaÃ®t sur sa gauche.</div>
      </div>

      <!-- â”€â”€â”€â”€â”€ WIDGETS â”€â”€â”€â”€â”€ -->
      <div id="s-widgets" class="section">
        <h3>ğŸ“¦ Les widgets disponibles</h3>
        <p>Chaque widget est une fenÃªtre flottante redimensionnable et dÃ©plaÃ§able. Cliquez sur <strong>WIDGETS</strong> pour ouvrir le menu, puis cliquez sur le type souhaitÃ©.</p>

        <table>
          <tr>
            <th>Widget</th>
            <th>Description</th>
            <th>ParticularitÃ©</th>
          </tr>
          <tr>
            <td><span class="wbadge" style="background:#2B7FFF">ğŸ–Šï¸ Texte</span></td>
            <td>Zone de saisie libre avec mise en forme riche.</td>
            <td>Barre de mise en forme globale automatique</td>
          </tr>
          <tr>
            <td><span class="wbadge" style="background:#3BB8DB">ğŸ“ Devoirs</span></td>
            <td>Widget prÃ©-rempli pour noter les devoirs par classe.</td>
            <td>Identique au Texte mais avec contenu de dÃ©part</td>
          </tr>
          <tr>
            <td><span class="wbadge" style="background:#679638">ğŸ“… Date</span></td>
            <td>Affiche le jour, le numÃ©ro et le mois en temps rÃ©el.</td>
            <td>Police et taille s'adaptent Ã  la taille du widget</td>
          </tr>
          <tr>
            <td><span class="wbadge" style="background:#7CCF35">ğŸ•’ Heure</span></td>
            <td>Horloge numÃ©rique en temps rÃ©el (heures:minutes secondes).</td>
            <td>Taille de police auto-adaptative + fond transparent</td>
          </tr>
          <tr>
            <td><span class="wbadge" style="background:#8E51FF">ğŸ“Œ Planning</span></td>
            <td>Agenda journalier avec lignes horaires rÃ©organisables.</td>
            <td>Glisser-dÃ©poser des lignes, ajout/suppression dynamique</td>
          </tr>
          <tr>
            <td><span class="wbadge" style="background:#E7180B">ğŸ¬ VidÃ©o YouTube</span></td>
            <td>Lecteur YouTube intÃ©grÃ©. Coller l'URL dans la barre.</td>
            <td>Mode audio seul, mode plein Ã©cran</td>
          </tr>
          <tr>
            <td><span class="wbadge" style="background:#FFD230;color:#222">ğŸ’» FenÃªtre Web</span></td>
            <td>Navigateur intÃ©grÃ© pour afficher n'importe quel site.</td>
            <td>Plein Ã©cran disponible</td>
          </tr>
          <tr>
            <td><span class="wbadge" style="background:#FF692A">ğŸ’ OutilsProfs</span></td>
            <td>Ouvre directement le site OutilsProfs en iframe.</td>
            <td>AccÃ¨s micro, camÃ©ra autorisÃ©</td>
          </tr>
          <tr>
            <td><span class="wbadge" style="background:#480eb3">ğŸ§˜ DÃ©fi Calme</span></td>
            <td>Outil de gestion du calme en classe.</td>
            <td>Iframe interne, plein Ã©cran disponible</td>
          </tr>
          <tr>
            <td><span class="wbadge" style="background:#E74C3C">ğŸ“„ PDF</span></td>
            <td>Ouvrir et afficher un fichier PDF local.</td>
            <td>Plein Ã©cran disponible, fichier non sauvegardÃ©</td>
          </tr>
        </table>

        <h4>âš™ï¸ ContrÃ´les communs Ã  tous les widgets</h4>
        <p>Au clic ou au survol d'un widget, plusieurs poignÃ©es apparaissent :</p>
        <table>
          <tr><th>PoignÃ©e</th><th>Position</th><th>Action</th></tr>
          <tr><td><span class="kbd-gray">âœ¥</span></td><td>Gauche (milieu)</td><td>DÃ©placer le widget par glisser-dÃ©poser</td></tr>
          <tr><td><span class="kbd-gray">â†»</span></td><td>Droite (milieu)</td><td>Faire pivoter librement (avec magnÃ©tisme Ã  0Â°/45Â°/90Â°â€¦)</td></tr>
          <tr><td><span class="kbd-gray">ğŸ“Œ</span></td><td>Haut (centre)</td><td>Ã‰pingler au premier plan (fond dorÃ© = Ã©pinglÃ©)</td></tr>
          <tr><td><span class="kbd-gray">ğŸ”½</span></td><td>Haut (droite centre)</td><td>Envoyer derriÃ¨re tous les autres widgets</td></tr>
          <tr><td><span class="kbd-gray">â˜°</span></td><td>Bas (centre)</td><td>Menu contextuel (dupliquer, modifierâ€¦)</td></tr>
          <tr><td><span class="kbd-gray">Ã—</span></td><td>Haut droite</td><td>Supprimer le widget</td></tr>
        </table>

        <h4>ğŸ“ Redimensionner un widget</h4>
        <p>Survolez le widget pour faire apparaÃ®tre la poignÃ©e de redimensionnement en bas Ã  droite de la zone de contenu (triangle gris). Glissez-la pour ajuster largeur et hauteur.</p>

        <div class="tip"><strong>ğŸ’¡ Fond transparent :</strong> Les widgets Texte, Heure et Date peuvent Ãªtre rendus transparents. Utilisez le bouton <span class="kbd-gray">â¬œ</span> (damier) dans la barre globale ou la poignÃ©e qui apparaÃ®t au survol du widget Heure/Date.</div>
      </div>

      <!-- â”€â”€â”€â”€â”€ SÃ‰LECTION â”€â”€â”€â”€â”€ -->
      <div id="s-selection" class="section">
        <h3>ğŸ–±ï¸ SÃ©lectionner des widgets</h3>

        <h4>Clic simple</h4>
        <p>Cliquer sur un widget le sÃ©lectionne (bordure bleue). Si le widget n'appartient Ã  aucun groupe, ses poignÃ©es natives apparaissent directement dessus.</p>

        <h4>SÃ©lection multiple â€” Ctrl + clic</h4>
        <p>Maintenez <span class="kbd">Ctrl</span> (ou <span class="kbd">âŒ˜</span> sur Mac) et cliquez sur plusieurs widgets pour les ajouter Ã  la sÃ©lection. Recliquer sur un widget sÃ©lectionnÃ© le dÃ©sÃ©lectionne.</p>

        <h4>Rectangle de sÃ©lection</h4>
        <p>Cliquez-glissez sur le <strong>fond du tableau</strong> (pas sur un widget) pour dessiner un rectangle de sÃ©lection. Tous les widgets et traits de dessin qui se trouvent dans cette zone sont sÃ©lectionnÃ©s.</p>

        <h4>Overlay de sÃ©lection multiple</h4>
        <p>Quand plusieurs Ã©lÃ©ments sont sÃ©lectionnÃ©s, un cadre bleu pointillÃ© entoure l'ensemble. Il expose les contrÃ´les :</p>
        <table>
          <tr><th>Bouton</th><th>Action</th></tr>
          <tr><td><span class="kbd-gray">âœ¥</span></td><td>DÃ©placer tout le groupe simultanÃ©ment</td></tr>
          <tr><td><span class="kbd-gray">â†»</span></td><td>Faire pivoter autour du centre de la sÃ©lection</td></tr>
          <tr><td><span class="kbd-gray">â†˜</span></td><td>Redimensionner l'ensemble (+ Shift = proportionnel)</td></tr>
          <tr><td><span class="kbd-gray">Ã—</span></td><td>Supprimer tous les Ã©lÃ©ments sÃ©lectionnÃ©s</td></tr>
          <tr><td><span class="kbd-gray">â˜°</span></td><td>Menu contextuel (dupliquer, premier plan, derriÃ¨reâ€¦)</td></tr>
          <tr><td><span class="kbd-gray">âŠ Grouper</span></td><td>CrÃ©er un groupe permanent (visible si â‰¥ 2 Ã©lÃ©ments)</td></tr>
          <tr><td><span class="kbd-gray">â›“ï¸ Dissocier</span></td><td>Dissoudre un groupe existant</td></tr>
          <tr><td><span class="kbd-gray">â†”</span></td><td>SymÃ©trie horizontale (miroir gauche/droite)</td></tr>
          <tr><td><span class="kbd-gray">â†•</span></td><td>SymÃ©trie verticale (miroir haut/bas)</td></tr>
          <tr><td><span class="kbd-gray">ğŸ”“ / ğŸ”’</span></td><td>Verrouiller/dÃ©verrouiller les proportions au redimensionnement</td></tr>
        </table>

        <div class="tip"><strong>ğŸ’¡ Astuce :</strong> Un double-clic sur le bouton â†» de rotation (overlay multi-sÃ©lection) remet tous les Ã©lÃ©ments Ã  leur angle d'origine avant la rotation.</div>
      </div>

      <!-- â”€â”€â”€â”€â”€ DÃ‰PLACEMENT â”€â”€â”€â”€â”€ -->
      <div id="s-deplacement" class="section">
        <h3>âœ¥ DÃ©placer des widgets</h3>

        <h4>DÃ©placer un widget seul</h4>
        <p>Cliquez sur la poignÃ©e <span class="kbd-gray">âœ¥</span> qui apparaÃ®t Ã  gauche du widget lorsqu'il est sÃ©lectionnÃ© ou survolÃ©, puis glissez. RelÃ¢chez pour valider la position.</p>

        <h4>DÃ©placer plusieurs widgets ensemble</h4>
        <p>SÃ©lectionnez plusieurs Ã©lÃ©ments (Ctrl+clic ou rectangle), puis utilisez la poignÃ©e <span class="kbd-gray">âœ¥</span> de l'overlay bleu pour dÃ©placer tout le groupe d'un seul mouvement.</p>

        <h4>Ordre d'empilement (z-index)</h4>
        <ul>
          <li><strong>ğŸ“Œ Ã‰pingler</strong> â€” place le widget en premier plan permanent. Son cadre passe au dorÃ©.</li>
          <li><strong>ğŸ”½ Envoyer derriÃ¨re</strong> â€” place le widget tout derriÃ¨re (utile pour les images de fond).</li>
          <li>Tout clic sur un widget non Ã©pinglÃ© le remonte automatiquement au-dessus des autres.</li>
        </ul>

        <div class="tip"><strong>ğŸ’¡ Image de fond :</strong> Importez une image dans un widget FenÃªtre Web ou ajoutez une forme large, puis utilisez ğŸ”½ pour l'envoyer derriÃ¨re tous les autres Ã©lÃ©ments. Elle devient un fond permanent.</div>
      </div>

      <!-- â”€â”€â”€â”€â”€ ROTATION â”€â”€â”€â”€â”€ -->
      <div id="s-rotation" class="section">
        <h3>â†» Rotation des Ã©lÃ©ments</h3>

        <h4>Rotation d'un widget seul</h4>
        <p>Cliquez-glissez la poignÃ©e <span class="kbd-gray">â†»</span> Ã  droite du widget. L'angle actuel s'affiche en temps rÃ©el dans une bulle flottante.</p>

        <h4>MagnÃ©tisme automatique</h4>
        <p>La rotation se "snap" automatiquement sur les angles courants : <strong>0Â°, 45Â°, 90Â°, 135Â°, 180Â°, 225Â°, 270Â°, 315Â°</strong>. Lorsque vous approchez l'un de ces angles Ã  moins de 2Â°, le widget s'y colle.</p>

        <h4>Remettre Ã  0Â°</h4>
        <p>Double-cliquez sur la poignÃ©e <span class="kbd-gray">â†»</span> pour rÃ©initialiser instantanÃ©ment l'angle Ã  0Â°.</p>

        <h4>Rotation d'une sÃ©lection multiple</h4>
        <p>Quand plusieurs Ã©lÃ©ments sont sÃ©lectionnÃ©s, utilisez la poignÃ©e â†» de l'overlay bleu. La rotation s'effectue autour du centre gÃ©omÃ©trique de la sÃ©lection. Tous les Ã©lÃ©ments (widgets + traits de dessin) pivotent ensemble.</p>

        <div class="warn"><strong>âš ï¸ Note :</strong> Avec une sÃ©lection multiple, un double-clic sur â†» remet chaque widget Ã  son angle individuel <em>d'avant</em> la rotation groupÃ©e (pas nÃ©cessairement 0Â°).</div>
      </div>

      <!-- â”€â”€â”€â”€â”€ GROUPES â”€â”€â”€â”€â”€ -->
      <div id="s-groupes" class="section">
        <h3>â›“ï¸ Groupes de widgets</h3>
        <p>Le groupement permet de lier plusieurs Ã©lÃ©ments (widgets, formes, traits de dessin) pour les dÃ©placer, redimensionner et faire pivoter ensemble comme un seul objet.</p>

        <h4>CrÃ©er un groupe</h4>
        <ol style="padding-left:20px;margin-bottom:10px;">
          <li style="font-size:13.5px;color:#444;margin-bottom:4px;">SÃ©lectionnez au moins 2 Ã©lÃ©ments (Ctrl+clic ou rectangle de sÃ©lection).</li>
          <li style="font-size:13.5px;color:#444;margin-bottom:4px;">Cliquez sur <span class="kbd-gray">âŠ Grouper</span> dans l'overlay bleu (ou via le menu â˜°).</li>
          <li style="font-size:13.5px;color:#444;margin-bottom:4px;">Les membres du groupe sont dÃ©sormais liÃ©s (bordure ambrÃ©e discrÃ¨te sur les widgets texte).</li>
        </ol>

        <h4>Interagir avec un groupe</h4>
        <p>Cliquer sur n'importe quel membre du groupe sÃ©lectionne <strong>tout le groupe</strong> d'un coup, ce qui affiche l'overlay multi-sÃ©lection avec toutes ses poignÃ©es.</p>

        <h4>Dissocier un groupe</h4>
        <p>SÃ©lectionnez un ou plusieurs membres du groupe, puis cliquez sur <span class="kbd-gray">â›“ï¸ Dissocier</span> dans l'overlay ou dans le menu â˜°. Chaque Ã©lÃ©ment redevient indÃ©pendant.</p>

        <h4>Groupes mixtes</h4>
        <p>Un groupe peut contenir des widgets texte, des formes SVG <em>et</em> des traits de dessin libre. Tout se dÃ©place, pivote et se redimensionne ensemble.</p>

        <div class="tip"><strong>ğŸ’¡ Astuce :</strong> Pour ajouter un Ã©lÃ©ment Ã  un groupe existant, sÃ©lectionnez les membres du groupe + le nouvel Ã©lÃ©ment avec Ctrl+clic, puis regroupez. L'ancien groupe est absorbÃ© dans le nouveau.</div>
      </div>

      <!-- â”€â”€â”€â”€â”€ TEXTE â”€â”€â”€â”€â”€ -->
      <div id="s-texte" class="section">
        <h3>ğŸ–Šï¸ Texte &amp; Mise en forme</h3>
        <p>Les widgets <strong>Texte</strong> et <strong>Devoirs</strong> sont des Ã©diteurs de texte enrichi. La <strong>barre de mise en forme globale</strong> s'affiche automatiquement en bas de l'Ã©cran dÃ¨s que vous cliquez dans l'un de ces widgets.</p>

        <h4>Barre de mise en forme â€” outils disponibles</h4>
        <table>
          <tr><th>Outil</th><th>Description</th></tr>
          <tr><td><span class="kbd-gray"><b>G</b></span> / <span class="kbd-gray"><i>I</i></span> / <span class="kbd-gray"><u>S</u></span></td><td>Gras, Italique, SoulignÃ© sur le texte sÃ©lectionnÃ©</td></tr>
          <tr><td>ğŸ¨ Couleur texte</td><td>Ouvre un sÃ©lecteur de couleur pour la couleur du texte</td></tr>
          <tr><td>ğŸ–Šï¸ Surligner</td><td>Applique une couleur de fond (surlignage) au texte sÃ©lectionnÃ©</td></tr>
          <tr><td>â¬œ Fond widget</td><td>Change la couleur de fond de tout le widget</td></tr>
          <tr><td>â˜‘ Transparence</td><td>Rend le fond du widget transparent (damier)</td></tr>
          <tr><td>Police</td><td>SÃ©lecteur parmi Arial, Segoe UI, Comic Sans, Verdana, KGPerfectPenmanship, Andika, OpenDyslexic, Belle Allure GS</td></tr>
          <tr><td><span class="kbd-gray">âˆ’</span> taille <span class="kbd-gray">+</span></td><td>Diminue/augmente la taille de police par pas de 2px. Saisie directe possible.</td></tr>
        </table>

        <h4>Polices spÃ©ciales incluses</h4>
        <div class="card-grid">
          <div class="card">
            <div class="card-title">ğŸ§© OpenDyslexic</div>
            <p>Police conÃ§ue pour faciliter la lecture des personnes dyslexiques.</p>
          </div>
          <div class="card">
            <div class="card-title">ğŸ“ Belle Allure GS</div>
            <p>Police cursive adaptÃ©e aux besoins de l'Ã©cole primaire (Ã©criture liÃ©e).</p>
          </div>
          <div class="card">
            <div class="card-title">âœ’ï¸ KGPerfectPenmanship</div>
            <p>Style Ã©criture manuscrite soignÃ©e.</p>
          </div>
          <div class="card">
            <div class="card-title">ğŸ”¡ Andika</div>
            <p>Police lisible adaptÃ©e aux lecteurs dÃ©butants.</p>
          </div>
        </div>

        <div class="tip"><strong>ğŸ’¡ SÃ©lectionner avant de formater :</strong> SÃ©lectionnez le texte Ã  modifier AVANT de cliquer sur un bouton de la barre. Pour la taille, vous pouvez cliquer dans la zone de saisie de taille et appuyer sur EntrÃ©e.</div>
      </div>

      <!-- â”€â”€â”€â”€â”€ FORMES â”€â”€â”€â”€â”€ -->
      <div id="s-formes" class="section">
        <h3>ğŸ”² Formes gÃ©omÃ©triques</h3>
        <p>Cliquez sur le bouton <span class="kbd-gray">ğŸ”²</span> en bas de l'Ã©cran pour ouvrir le panneau des formes.</p>

        <h4>Formes disponibles</h4>
        <div class="card-grid">
          <div class="card"><div class="card-title">â­• Cercle / Ellipse</div><p>Ellipse parfaitement ronde ou ovale selon les dimensions.</p></div>
          <div class="card"><div class="card-title">â¬› CarrÃ©</div><p>Rectangle Ã  cÃ´tÃ©s Ã©gaux.</p></div>
          <div class="card"><div class="card-title">â–¬ Rectangle</div><p>Rectangle aux dimensions libres.</p></div>
          <div class="card"><div class="card-title">â—‡ Losange</div><p>QuadrilatÃ¨re en forme de diamant.</p></div>
          <div class="card"><div class="card-title">â–± ParallÃ©logramme</div><p>QuadrilatÃ¨re penchÃ©.</p></div>
          <div class="card"><div class="card-title">â€” Ligne</div><p>Trait horizontal. Redimensionnable en longueur.</p></div>
          <div class="card"><div class="card-title">â¡ï¸ FlÃ¨che</div><p>FlÃ¨che directionnelle avec corps et pointe.</p></div>
          <div class="card"><div class="card-title">â–² Triangle</div><p>Triangle isocÃ¨le pointÃ© vers le haut.</p></div>
        </div>

        <h4>Options de crÃ©ation</h4>
        <ul>
          <li><strong>Contour :</strong> couleur et Ã©paisseur (1 Ã  20 px)</li>
          <li><strong>Remplissage :</strong> couleur + opacitÃ© (0 Ã  100%)</li>
        </ul>

        <h4>Modifier une forme existante</h4>
        <p>Double-cliquez sur une forme dÃ©jÃ  placÃ©e sur le tableau pour ouvrir le <strong>panneau d'Ã©dition</strong> (flottant, repositionnable). Vous pouvez changer contour, remplissage et opacitÃ© en temps rÃ©el.</p>

        <h4>Redimensionner une forme</h4>
        <p>SÃ©lectionnez la forme (clic) : une poignÃ©e apparaÃ®t en bas Ã  droite. Glissez-la pour ajuster. Maintenez <span class="kbd">Shift</span> ou verrouillez les proportions via le bouton <span class="kbd-gray">ğŸ”’</span> pour conserver le ratio largeur/hauteur.</p>

        <h4>SymÃ©trie</h4>
        <p>Les boutons <span class="kbd-gray">â†”</span> (horizontal) et <span class="kbd-gray">â†•</span> (vertical) apparaissent sur les formes sÃ©lectionnÃ©es pour les retourner en miroir.</p>

        <h4>Dupliquer une forme</h4>
        <p>Cliquez sur â˜° (menu) en bas de la forme sÃ©lectionnÃ©e â†’ <strong>â§‰ Dupliquer</strong>. La copie est crÃ©Ã©e avec un lÃ©ger dÃ©calage.</p>
      </div>

      <!-- â”€â”€â”€â”€â”€ DESSIN â”€â”€â”€â”€â”€ -->
      <div id="s-dessin" class="section">
        <h3>âœï¸ Dessin libre &amp; Reconnaissance de formes</h3>
        <p>Cliquez sur <span class="kbd-gray">âœï¸</span> en bas de l'Ã©cran pour activer le mode dessin. Une barre d'options apparaÃ®t.</p>

        <h4>Mode Dessin libre</h4>
        <p>Tracez Ã  main levÃ©e avec la souris ou le stylet. Choisissez :</p>
        <ul>
          <li><strong>Couleur</strong> via le sÃ©lecteur de couleur</li>
          <li><strong>Ã‰paisseur</strong> via le curseur (1 Ã  40 px)</li>
        </ul>
        <p>Chaque tracÃ© est stockÃ© sÃ©parÃ©ment et peut Ãªtre sÃ©lectionnÃ©/dÃ©placÃ©/supprimÃ© indÃ©pendamment.</p>

        <h4>Mode Reconnaissance de formes ğŸ”µ</h4>
        <p>Basculez sur le mode <strong>Formes</strong> dans la barre de dessin. Dessinez approximativement un cercle, un carrÃ©, un rectangle ou un triangle : l'application dÃ©tecte automatiquement la forme et la remplace par une <strong>forme vectorielle nette</strong>.</p>

        <div class="tip"><strong>ğŸ’¡ Conseil :</strong> Fermez votre tracÃ© (rejoignez le point de dÃ©part) pour dÃ©clencher la reconnaissance. Les formes non fermÃ©es (lignes) sont conservÃ©es comme tracÃ© libre.</div>

        <h4>Options du mode Formes</h4>
        <ul>
          <li><strong>Couleur de remplissage</strong> et <strong>OpacitÃ©</strong> spÃ©cifiques au remplissage reconnu</li>
          <li>La couleur du contour reprend celle choisie dans le sÃ©lecteur principal</li>
        </ul>

        <h4>Effacer tous les traits</h4>
        <p>Bouton <span class="kbd-gray">ğŸ—‘ï¸ Effacer</span> dans la barre de dessin â†’ supprime tous les traits du canvas.</p>

        <h4>Quitter le mode dessin</h4>
        <p>Cliquez sur <span class="kbd-gray">âœ– Fermer</span> dans la barre, ou recliquez sur le bouton âœï¸ en bas.</p>

        <div class="warn"><strong>âš ï¸ Important :</strong> En mode dessin, les widgets ne sont plus cliquables. Quittez le mode dessin pour interagir de nouveau avec les widgets.</div>
      </div>

      <!-- â”€â”€â”€â”€â”€ GOMME â”€â”€â”€â”€â”€ -->
      <div id="s-gomme" class="section">
        <h3>ğŸ§½ Gomme</h3>
        <p>Cliquez sur <span class="kbd-gray">ğŸ§½</span> en bas de l'Ã©cran pour activer la gomme.</p>

        <h4>Effacer des traits</h4>
        <p>Passez la gomme sur les traits de dessin pour les effacer segment par segment. Les traits partiellement effacÃ©s sont dÃ©coupÃ©s.</p>

        <h4>Effacer des formes</h4>
        <p>La gomme s'applique Ã©galement aux formes SVG via un masque vectoriel. Si une forme est entiÃ¨rement recouverte par la gomme, elle est automatiquement supprimÃ©e.</p>

        <h4>RÃ©gler la taille</h4>
        <p>Un curseur <strong>Taille</strong> (5 Ã  80 px) dans la barre permet d'ajuster le rayon de la gomme. Un aperÃ§u circulaire s'affiche sous le curseur.</p>

        <h4>Quitter la gomme</h4>
        <p>Cliquez sur <span class="kbd-gray">âœ– Fermer</span> ou recliquez sur le bouton ğŸ§½.</p>

        <div class="tip"><strong>ğŸ’¡ Annuler une erreur de gomme :</strong> Utilisez le bouton Annuler <span class="kbd-gray">â†©</span> pour rÃ©tablir les traits effacÃ©s.</div>
      </div>

      <!-- â”€â”€â”€â”€â”€ FOND â”€â”€â”€â”€â”€ -->
      <div id="s-fond" class="section">
        <h3>ğŸ–¼ï¸ Fond d'Ã©cran</h3>
        <p>Ouvrez le menu <strong>WIDGETS</strong> â†’ bouton <strong>ğŸ–¼ï¸ Choisir fond</strong>.</p>

        <h4>Couleurs prÃ©dÃ©finies</h4>
        <div class="card-grid">
          <div class="card"><div class="card-title" style="gap:8px;"><span style="display:inline-block;width:16px;height:16px;border-radius:3px;background:#eef2f5;border:1px solid #ddd;"></span> DÃ©faut</div><p>Gris clair neutre (#eef2f5)</p></div>
          <div class="card"><div class="card-title"><span style="display:inline-block;width:16px;height:16px;border-radius:3px;background:#2f3542;"></span> Ardoise</div><p>Gris foncÃ© (#2f3542)</p></div>
          <div class="card"><div class="card-title"><span style="display:inline-block;width:16px;height:16px;border-radius:3px;background:#104626;"></span> Tableau vert</div><p>Vert tableau classique (#104626)</p></div>
          <div class="card"><div class="card-title"><span style="display:inline-block;width:16px;height:16px;border-radius:3px;background:#BAA09B;"></span> Vieux rose</div><p>Tons chauds doux (#BAA09B)</p></div>
          <div class="card"><div class="card-title"><span style="display:inline-block;width:16px;height:16px;border-radius:3px;background:#EDD9D5;border:1px solid #ddd;"></span> Beige</div><p>Beige chaleureux (#EDD9D5)</p></div>
          <div class="card"><div class="card-title"><span style="display:inline-block;width:16px;height:16px;border-radius:3px;background:#000;"></span> Noir</div><p>Fond entiÃ¨rement noir</p></div>
        </div>

        <h4>Image personnalisÃ©e</h4>
        <p>Bouton <strong>ğŸ“· Importer image</strong> â†’ sÃ©lectionnez une image depuis votre ordinateur. Elle est stockÃ©e en base64 dans le navigateur et rechargÃ©e automatiquement Ã  chaque session.</p>

        <div class="warn"><strong>âš ï¸ Images volumineuses :</strong> Les images trÃ¨s lourdes peuvent ralentir la sauvegarde locale. PrivilÃ©giez des images compressÃ©es (JPEG, WebP) de moins de 2 Mo.</div>
      </div>

      <!-- â”€â”€â”€â”€â”€ SAUVEGARDE â”€â”€â”€â”€â”€ -->
      <div id="s-sauvegarde" class="section">
        <h3>ğŸ’¾ Sauvegarde &amp; Chargement</h3>

        <h4>Sauvegarde automatique</h4>
        <p>Toute modification (ajout de widget, dÃ©placement, texte saisiâ€¦) est enregistrÃ©e automatiquement dans le <strong>localStorage</strong> du navigateur. La prochaine ouverture de la page restaure exactement l'Ã©tat prÃ©cÃ©dent.</p>

        <h4>Exporter un fichier .json â€” ğŸ’¾</h4>
        <p>Cliquez sur <span class="kbd-gray">ğŸ’¾</span> en bas de l'Ã©cran pour tÃ©lÃ©charger un fichier <strong>.json</strong> contenant tout l'Ã©tat du bureau : positions, contenus, couleurs, traits de dessin, fondâ€¦</p>
        <p>Le fichier est nommÃ© automatiquement <code>lebureauduprof_export_AAAA-MM-JJ.json</code>.</p>

        <h4>Charger un fichier .json â€” ğŸ“‚</h4>
        <p>Cliquez sur <span class="kbd-gray">ğŸ“‚</span> et sÃ©lectionnez un fichier exportÃ© prÃ©cÃ©demment. Le bureau est entiÃ¨rement remplacÃ© par le contenu du fichier.</p>

        <div class="tip"><strong>ğŸ’¡ Bonnes pratiques :</strong>
          <br>â€¢ Exportez rÃ©guliÃ¨rement un .json en fin de journÃ©e comme sauvegarde de secours.
          <br>â€¢ CrÃ©ez plusieurs fichiers thÃ©matiques (lundi.json, mardi.jsonâ€¦) pour basculer rapidement entre diffÃ©rentes configurations.
        </div>

        <h4>Tout effacer â€” âŒ</h4>
        <p>Cliquez sur <span class="kbd-gray">âŒ</span> pour vider entiÃ¨rement le bureau. Une confirmation est demandÃ©e. Cette action est <strong>irrÃ©versible</strong> (sauf via Annuler â†© juste aprÃ¨s).</p>

        <h4>Ce qui est sauvegardÃ©</h4>
        <ul>
          <li>Tous les widgets (type, position, taille, contenu, style)</li>
          <li>Toutes les formes gÃ©omÃ©triques (type, couleurs, taille, rotation)</li>
          <li>Tous les traits de dessin libre</li>
          <li>Le fond d'Ã©cran (couleur ou image)</li>
          <li>Les groupes de widgets</li>
        </ul>

        <div class="warn"><strong>âš ï¸ Limites :</strong> Les fichiers PDF ouverts via le widget PDF <em>ne sont pas</em> sauvegardÃ©s (pour des raisons de confidentialitÃ© et de taille). Il faudra les rÃ©-ouvrir Ã  chaque session.</div>
      </div>

      <!-- â”€â”€â”€â”€â”€ ANNULER/REFAIRE â”€â”€â”€â”€â”€ -->
      <div id="s-undoredo" class="section">
        <h3>â†© Annuler &amp; Refaire</h3>

        <p>Un historique de jusqu'Ã  <strong>60 Ã©tats</strong> est conservÃ© pendant la session.</p>

        <table>
          <tr><th>Bouton</th><th>Action</th><th>Condition</th></tr>
          <tr><td><span class="kbd-gray">â†© Annuler</span></td><td>Revient Ã  l'Ã©tat prÃ©cÃ©dent</td><td>Gris si aucune action Ã  annuler</td></tr>
          <tr><td><span class="kbd-gray">â†ª Refaire</span></td><td>RÃ©tablit l'action annulÃ©e</td><td>Gris si rien Ã  refaire</td></tr>
        </table>

        <h4>Ce qui est couvert par l'historique</h4>
        <ul>
          <li>Ajout / suppression de widgets ou de formes</li>
          <li>DÃ©placement, rotation, redimensionnement</li>
          <li>Traits de dessin et effaÃ§ages</li>
          <li>Changements de fond</li>
          <li>Groupement / dissociation</li>
        </ul>

        <div class="tip"><strong>ğŸ’¡ Astuce :</strong> Les modificiations de <em>texte</em> (frappe au clavier dans un widget) sont enregistrÃ©es dans l'historique aprÃ¨s un dÃ©lai de 800 ms d'inactivitÃ©.</div>

        <div class="warn"><strong>âš ï¸ Limite session :</strong> L'historique est perdu si vous fermez ou rechargez la page. Exportez votre travail rÃ©guliÃ¨rement avec ğŸ’¾.</div>
      </div>

      <!-- â”€â”€â”€â”€â”€ OPTIONS AVANCÃ‰ES â”€â”€â”€â”€â”€ -->
      <div id="s-avance" class="section">
        <h3>âš™ï¸ Options &amp; FonctionnalitÃ©s avancÃ©es</h3>

        <h4>ğŸ—“ï¸ Widget Planning â€” dÃ©tail</h4>
        <p>Le widget Planning (agenda journalier) est entiÃ¨rement Ã©ditable :</p>
        <ul>
          <li>Cliquez sur une heure ou un texte pour l'Ã©diter directement.</li>
          <li>Glissez-dÃ©posez les lignes via la poignÃ©e <span class="kbd-gray">â‹®â‹®</span> pour les rÃ©organiser.</li>
          <li>Bouton <span class="kbd-gray">+</span> en bas pour ajouter une ligne.</li>
          <li>Bouton <span class="kbd-gray">Ã—</span> (survol d'une ligne) pour supprimer.</li>
          <li>L'heure et la date courantes sont affichÃ©es en temps rÃ©el dans l'en-tÃªte.</li>
        </ul>

        <h4>ğŸ¬ Widget YouTube â€” astuces</h4>
        <ul>
          <li>Collez n'importe quel lien YouTube (normal, court youtu.be, ou Shorts).</li>
          <li>Bouton <strong>ğŸ”‡ Son seul</strong> : masque la vidÃ©o et rÃ©duit le widget, idÃ©al pour une musique de fond.</li>
          <li>Bouton <strong>ğŸ“º VidÃ©o</strong> : rÃ©affiche la vidÃ©o.</li>
          <li>Bouton â›¶ pour passer en plein Ã©cran.</li>
          <li>Le bouton damier rend le fond du widget transparent.</li>
        </ul>

        <h4>ğŸ’» Widget FenÃªtre Web</h4>
        <ul>
          <li>Saisissez une URL dans la barre (http:// ajoutÃ© automatiquement si absent).</li>
          <li>Certains sites peuvent bloquer l'affichage en iframe (YouTube, Googleâ€¦). Utilisez le widget YouTube dÃ©diÃ© dans ce cas.</li>
        </ul>

        <h4>ğŸ“ Redimensionnement adaptatif</h4>
        <p>Lorsque vous redimensionnez la fenÃªtre du navigateur, tous les widgets, formes et traits sont automatiquement repositionnÃ©s et redimensionnÃ©s proportionnellement pour conserver le rendu 16:9.</p>

        <h4>ğŸ”’ Ã‰pingler vs Envoyer derriÃ¨re</h4>
        <ul>
          <li><strong>ğŸ“Œ Ã‰pingler</strong> : le widget reste toujours visible au premier plan, quoi qu'il arrive. Utile pour l'heure ou la date.</li>
          <li><strong>ğŸ”½ Envoyer derriÃ¨re</strong> : le widget passe au z-index 1, derriÃ¨re tout le reste. IdÃ©al pour une image dÃ©corative ou un fond personnalisÃ©.</li>
        </ul>

        <h4>ğŸ–¼ï¸ Utiliser une image comme fond de widget</h4>
        <p>Vous pouvez coller une image dans un widget Texte (Ctrl+V) pour l'afficher comme fond dÃ©coratif. Utilisez ensuite ğŸ”½ pour l'envoyer derriÃ¨re.</p>

        <h4>â›¶ Mode plein Ã©cran</h4>
        <p>Disponible sur les widgets YouTube, FenÃªtre Web, OutilsProfs, DÃ©fi Calme et PDF. Cliquez sur le bouton â›¶ dans la barre du widget. Appuyez sur <span class="kbd">Ã‰chap</span> ou le bouton de sortie pour quitter.</p>

        <div class="tip">
          <strong>ğŸ’¡ Conseil pÃ©dagogique :</strong> Combinez plusieurs widgets sur un mÃªme bureau :
          <br>â€¢ Date + Heure (en haut) pour l'affichage permanent
          <br>â€¢ Planning (Ã  gauche) pour le dÃ©roulÃ© de la journÃ©e
          <br>â€¢ Devoirs (Ã  droite) pour les travaux Ã  noter
          <br>â€¢ Une vidÃ©o YouTube (en dessous) pour la musique de travail
          <br>Sauvegardez cette configuration en .json et rechargez-la chaque matin en 2 secondes !
        </div>
      </div>

    </div><!-- /content -->
  </div><!-- /modal-body -->

  <!-- PIED -->
  <div class="modal-foot">
    <button class="btn-close-foot" onclick="this.closest('.modal-overlay').style.display='none'">Fermer</button>
  </div>

</div><!-- /modal -->
</div><!-- /overlay -->

<script>
function show(item) {
  document.querySelectorAll('.sidebar-item').forEach(i => i.classList.remove('active'));
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  item.classList.add('active');
  document.getElementById(item.dataset.target).classList.add('active');
}
</script>
</body>
</html>
